var kn=Object.defineProperty;var Bn=(n,t,e)=>t in n?kn(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var p=(n,t,e)=>(Bn(n,typeof t!="symbol"?t+"":t,e),e);import{a as N,E as Mn}from"./CoreExtension-d763954d.js";import{C as zn,a as On,b as jn,c as Yn,S as Dn,l as $n,d as Xn,T as Wn,B as Un,N as et,e as tt}from"./TextNodeStruct-a05ccdc5.js";function Ni(){import.meta.url,import("_").catch(()=>1);async function*n(){}}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function e(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=e(o);fetch(o.href,i)}})();const ln=(n,t)=>n===t,Ye=Symbol("solid-proxy"),Hn=Symbol("solid-track"),De={equals:ln};let cn=fn;const Q=1,$e=2,an={owned:null,cleanups:null,context:null,owner:null},nt={};var I=null;let rt=null,F=null,D=null,re=null,Ve=0;function pe(n,t){const e=F,r=I,o=n.length===0,i=t===void 0?r:t,s=o?an:{owned:null,cleanups:null,context:i?i.context:null,owner:i},c=o?n:()=>n(()=>U(()=>Je(s)));I=s,F=null;try{return oe(c,!0)}finally{F=e,I=r}}function M(n,t){t=t?Object.assign({},De,t):De;const e={value:n,observers:null,observerSlots:null,comparator:t.equals||void 0},r=o=>(typeof o=="function"&&(o=o(e.value)),dn(e,o));return[hn.bind(e),r]}function ct(n,t,e){const r=Ae(n,t,!0,Q);me(r)}function ne(n,t,e){const r=Ae(n,t,!1,Q);me(r)}function ee(n,t,e){cn=tr;const r=Ae(n,t,!1,Q);(!e||!e.render)&&(r.user=!0),re?re.push(r):me(r)}function O(n,t,e){e=e?Object.assign({},De,e):De;const r=Ae(n,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=e.equals||void 0,me(r),hn.bind(r)}function qn(n){return n&&typeof n=="object"&&"then"in n}function fe(n,t,e){let r,o,i;arguments.length===2&&typeof t=="object"||arguments.length===1?(r=!0,o=n,i=t||{}):(r=n,o=t,i=e||{});let s=null,c=nt,h=!1,f="initialValue"in i,a=typeof r=="function"&&O(r);const x=new Set,[u,w]=(i.storage||M)(i.initialValue),[T,R]=M(void 0),[B,L]=M(void 0,{equals:!1}),[m,y]=M(f?"ready":"unresolved");function d(b,g,S,A){return s===b&&(s=null,A!==void 0&&(f=!0),(b===c||g===c)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated(A,{value:g})),c=nt,v(g,S)),g}function v(b,g){oe(()=>{g===void 0&&w(()=>b),y(g!==void 0?"errored":f?"ready":"unresolved"),R(g);for(const S of x.keys())S.decrement();x.clear()},!1)}function _(){const b=Zn,g=u(),S=T();if(S!==void 0&&!s)throw S;return F&&!F.user&&b&&ct(()=>{B(),s&&(b.resolved||x.has(b)||(b.increment(),x.add(b)))}),g}function C(b=!0){if(b!==!1&&h)return;h=!1;const g=a?a():r;if(g==null||g===!1){d(s,U(u));return}const S=c!==nt?c:U(()=>o(g,{value:u(),refetching:b}));return qn(S)?"value"in S?(S.status==="success"?d(s,S.value,void 0,g):d(s,void 0,void 0,g),S):(s=S,h=!0,queueMicrotask(()=>h=!1),oe(()=>{y(f?"refreshing":"pending"),L()},!1),S.then(A=>d(S,A,void 0,g),A=>d(S,void 0,yn(A),g))):(d(s,S,void 0,g),S)}return Object.defineProperties(_,{state:{get:()=>m()},error:{get:()=>T()},loading:{get(){const b=m();return b==="pending"||b==="refreshing"}},latest:{get(){if(!f)return _();const b=T();if(b&&!s)throw b;return u()}}}),a?ct(()=>C(!1)):C(!1),[_,{refetch:C,mutate:w}]}function Kn(n,t=ln,e){const r=new Map,o=Ae(i=>{const s=n();for(const[c,h]of r.entries())if(t(c,s)!==t(c,i))for(const f of h.values())f.state=Q,f.pure?D.push(f):re.push(f);return s},void 0,!0,Q);return me(o),i=>{const s=F;if(s){let c;(c=r.get(i))?c.add(s):r.set(i,c=new Set([s])),ue(()=>{c.delete(s),!c.size&&r.delete(i)})}return t(i,o.value)}}function Vn(n){return oe(n,!1)}function U(n){if(F===null)return n();const t=F;F=null;try{return n()}finally{F=t}}function se(n,t,e){const r=Array.isArray(n);let o,i=e&&e.defer;return s=>{let c;if(r){c=Array(n.length);for(let f=0;f<n.length;f++)c[f]=n[f]()}else c=n();if(i){i=!1;return}const h=U(()=>t(c,o,s));return o=c,h}}function bt(n){ee(()=>U(n))}function ue(n){return I===null||(I.cleanups===null?I.cleanups=[n]:I.cleanups.push(n)),n}function Ge(){return I}function Gn(n,t){const e=I,r=F;I=n,F=null;try{return oe(t,!0)}catch(o){St(o)}finally{I=e,F=r}}function Jn(n){const t=F,e=I;return Promise.resolve().then(()=>{F=t,I=e;let r;return oe(n,!1),F=I=null,r?r.done:void 0})}function un(n,t){const e=Symbol("context");return{id:e,Provider:nr(e),defaultValue:n}}function Tt(n){return I&&I.context&&I.context[n.id]!==void 0?I.context[n.id]:n.defaultValue}function vt(n){const t=O(n),e=O(()=>at(t()));return e.toArray=()=>{const r=e();return Array.isArray(r)?r:r!=null?[r]:[]},e}let Zn;function hn(){if(this.sources&&this.state)if(this.state===Q)me(this);else{const n=D;D=null,oe(()=>We(this),!1),D=n}if(F){const n=this.observers?this.observers.length:0;F.sources?(F.sources.push(this),F.sourceSlots.push(n)):(F.sources=[this],F.sourceSlots=[n]),this.observers?(this.observers.push(F),this.observerSlots.push(F.sources.length-1)):(this.observers=[F],this.observerSlots=[F.sources.length-1])}return this.value}function dn(n,t,e){let r=n.value;return(!n.comparator||!n.comparator(r,t))&&(n.value=t,n.observers&&n.observers.length&&oe(()=>{for(let o=0;o<n.observers.length;o+=1){const i=n.observers[o],s=rt&&rt.running;s&&rt.disposed.has(i),(s?!i.tState:!i.state)&&(i.pure?D.push(i):re.push(i),i.observers&&gn(i)),s||(i.state=Q)}if(D.length>1e6)throw D=[],new Error},!1)),t}function me(n){if(!n.fn)return;Je(n);const t=I,e=F,r=Ve;F=I=n,Qn(n,n.value,r),F=e,I=t}function Qn(n,t,e){let r;try{r=n.fn(t)}catch(o){return n.pure&&(n.state=Q,n.owned&&n.owned.forEach(Je),n.owned=null),n.updatedAt=e+1,St(o)}(!n.updatedAt||n.updatedAt<=e)&&(n.updatedAt!=null&&"observers"in n?dn(n,r):n.value=r,n.updatedAt=e)}function Ae(n,t,e,r=Q,o){const i={fn:n,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:I,context:I?I.context:null,pure:e};return I===null||I!==an&&(I.owned?I.owned.push(i):I.owned=[i]),i}function Xe(n){if(n.state===0)return;if(n.state===$e)return We(n);if(n.suspense&&U(n.suspense.inFallback))return n.suspense.effects.push(n);const t=[n];for(;(n=n.owner)&&(!n.updatedAt||n.updatedAt<Ve);)n.state&&t.push(n);for(let e=t.length-1;e>=0;e--)if(n=t[e],n.state===Q)me(n);else if(n.state===$e){const r=D;D=null,oe(()=>We(n,t[0]),!1),D=r}}function oe(n,t){if(D)return n();let e=!1;t||(D=[]),re?e=!0:re=[],Ve++;try{const r=n();return er(e),r}catch(r){e||(re=null),D=null,St(r)}}function er(n){if(D&&(fn(D),D=null),n)return;const t=re;re=null,t.length&&oe(()=>cn(t),!1)}function fn(n){for(let t=0;t<n.length;t++)Xe(n[t])}function tr(n){let t,e=0;for(t=0;t<n.length;t++){const r=n[t];r.user?n[e++]=r:Xe(r)}for(t=0;t<e;t++)Xe(n[t])}function We(n,t){n.state=0;for(let e=0;e<n.sources.length;e+=1){const r=n.sources[e];if(r.sources){const o=r.state;o===Q?r!==t&&(!r.updatedAt||r.updatedAt<Ve)&&Xe(r):o===$e&&We(r,t)}}}function gn(n){for(let t=0;t<n.observers.length;t+=1){const e=n.observers[t];e.state||(e.state=$e,e.pure?D.push(e):re.push(e),e.observers&&gn(e))}}function Je(n){let t;if(n.sources)for(;n.sources.length;){const e=n.sources.pop(),r=n.sourceSlots.pop(),o=e.observers;if(o&&o.length){const i=o.pop(),s=e.observerSlots.pop();r<o.length&&(i.sourceSlots[s]=r,o[r]=i,e.observerSlots[r]=s)}}if(n.owned){for(t=n.owned.length-1;t>=0;t--)Je(n.owned[t]);n.owned=null}if(n.cleanups){for(t=n.cleanups.length-1;t>=0;t--)n.cleanups[t]();n.cleanups=null}n.state=0}function yn(n){return n instanceof Error?n:new Error(typeof n=="string"?n:"Unknown error",{cause:n})}function St(n,t=I){throw yn(n)}function at(n){if(typeof n=="function"&&!n.length)return at(n());if(Array.isArray(n)){const t=[];for(let e=0;e<n.length;e++){const r=at(n[e]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return n}function nr(n,t){return function(r){let o;return ne(()=>o=U(()=>(I.context={...I.context,[n]:r.value},vt(()=>r.children))),void 0),o}}const rr=Symbol("fallback");function Wt(n){for(let t=0;t<n.length;t++)n[t]()}function or(n,t,e={}){let r=[],o=[],i=[],s=0,c=t.length>1?[]:null;return ue(()=>Wt(i)),()=>{let h=n()||[],f,a;return h[Hn],U(()=>{let u=h.length,w,T,R,B,L,m,y,d,v;if(u===0)s!==0&&(Wt(i),i=[],r=[],o=[],s=0,c&&(c=[])),e.fallback&&(r=[rr],o[0]=pe(_=>(i[0]=_,e.fallback())),s=1);else if(s===0){for(o=new Array(u),a=0;a<u;a++)r[a]=h[a],o[a]=pe(x);s=u}else{for(R=new Array(u),B=new Array(u),c&&(L=new Array(u)),m=0,y=Math.min(s,u);m<y&&r[m]===h[m];m++);for(y=s-1,d=u-1;y>=m&&d>=m&&r[y]===h[d];y--,d--)R[d]=o[y],B[d]=i[y],c&&(L[d]=c[y]);for(w=new Map,T=new Array(d+1),a=d;a>=m;a--)v=h[a],f=w.get(v),T[a]=f===void 0?-1:f,w.set(v,a);for(f=m;f<=y;f++)v=r[f],a=w.get(v),a!==void 0&&a!==-1?(R[a]=o[f],B[a]=i[f],c&&(L[a]=c[f]),a=T[a],w.set(v,a)):i[f]();for(a=m;a<u;a++)a in R?(o[a]=R[a],i[a]=B[a],c&&(c[a]=L[a],c[a](a))):o[a]=pe(x);o=o.slice(0,s=u),r=h.slice(0)}return o});function x(u){if(i[a]=u,c){const[w,T]=M(a);return c[a]=T,t(h[a],w)}return t(h[a])}}}function ut(n,t){return U(()=>n(t||{}))}function Fe(){return!0}const ht={get(n,t,e){return t===Ye?e:n.get(t)},has(n,t){return t===Ye?!0:n.has(t)},set:Fe,deleteProperty:Fe,getOwnPropertyDescriptor(n,t){return{configurable:!0,enumerable:!0,get(){return n.get(t)},set:Fe,deleteProperty:Fe}},ownKeys(n){return n.keys()}};function ot(n){return(n=typeof n=="function"?n():n)?n:{}}function ir(){for(let n=0,t=this.length;n<t;++n){const e=this[n]();if(e!==void 0)return e}}function _t(...n){let t=!1;for(let i=0;i<n.length;i++){const s=n[i];t=t||!!s&&Ye in s,n[i]=typeof s=="function"?(t=!0,O(s)):s}if(t)return new Proxy({get(i){for(let s=n.length-1;s>=0;s--){const c=ot(n[s])[i];if(c!==void 0)return c}},has(i){for(let s=n.length-1;s>=0;s--)if(i in ot(n[s]))return!0;return!1},keys(){const i=[];for(let s=0;s<n.length;s++)i.push(...Object.keys(ot(n[s])));return[...new Set(i)]}},ht);const e={},r={},o=new Set;for(let i=n.length-1;i>=0;i--){const s=n[i];if(!s)continue;const c=Object.getOwnPropertyNames(s);for(let h=0,f=c.length;h<f;h++){const a=c[h];if(a==="__proto__"||a==="constructor")continue;const x=Object.getOwnPropertyDescriptor(s,a);if(!o.has(a))x.get?(o.add(a),Object.defineProperty(e,a,{enumerable:!0,configurable:!0,get:ir.bind(r[a]=[x.get.bind(s)])})):(x.value!==void 0&&o.add(a),e[a]=x.value);else{const u=r[a];u?x.get?u.push(x.get.bind(s)):x.value!==void 0&&u.push(()=>x.value):e[a]===void 0&&(e[a]=x.value)}}}return e}function sr(n,...t){if(Ye in n){const o=new Set(t.length>1?t.flat():t[0]),i=t.map(s=>new Proxy({get(c){return s.includes(c)?n[c]:void 0},has(c){return s.includes(c)&&c in n},keys(){return s.filter(c=>c in n)}},ht));return i.push(new Proxy({get(s){return o.has(s)?void 0:n[s]},has(s){return o.has(s)?!1:s in n},keys(){return Object.keys(n).filter(s=>!o.has(s))}},ht)),i}const e={},r=t.map(()=>({}));for(const o of Object.getOwnPropertyNames(n)){const i=Object.getOwnPropertyDescriptor(n,o),s=!i.get&&!i.set&&i.enumerable&&i.writable&&i.configurable;let c=!1,h=0;for(const f of t)f.includes(o)&&(c=!0,s?r[h][o]=i.value:Object.defineProperty(r[h],o,i)),++h;c||(s?e[o]=i.value:Object.defineProperty(e,o,i))}return[...r,e]}const lr=n=>"Stale read from <".concat(n,">.");function Rt(n){const t="fallback"in n&&{fallback:()=>n.fallback};return O(or(()=>n.each,n.children,t||void 0))}function ie(n){const t=n.keyed,e=O(()=>n.when,void 0,{equals:(r,o)=>t?r===o:!r==!o});return O(()=>{const r=e();if(r){const o=n.children;return typeof o=="function"&&o.length>0?U(()=>o(t?r:()=>{if(!U(e))throw lr("Show");return n.when})):o}return n.fallback},void 0,void 0)}const cr=void 0,[Ue,mn]=M(null);function P(n){return(()=>{const t=he("text");return we(t,n,!1),t})()}function k(n){return(()=>{const t=he("node");return we(t,n,!1),t})()}class xn{constructor(t){p(this,"releaseCallback");this.releaseCallback=t}}class ar extends xn{constructor(e,r){var o,i;super(e);p(this,"textureMap",new Map);p(this,"zeroReferenceTextureSet",new Set);p(this,"options");this.options={textureCleanupIntervalMs:(o=r.textureCleanupIntervalMs)!=null?o:1e4,textureCleanupAgeThreadholdMs:(i=r.textureCleanupAgeThreadholdMs)!=null?i:6e4},setInterval(()=>{const s=Date.now(),c=this.options.textureCleanupAgeThreadholdMs;for(const h of this.zeroReferenceTextureSet)s-h.lastUpdate>c&&(this.releaseCallback(h.id),this.textureMap.delete(h.id),this.zeroReferenceTextureSet.delete(h))},this.options.textureCleanupIntervalMs)}registerTexture(e){var o;const r=(o=e.options)==null?void 0:o.id;if(N(r,"Texture must have an id to be registered"),!this.textureMap.has(r)){const i={id:r,nodeRefCount:0,lastUpdate:Date.now()};this.textureMap.set(r,i),this.zeroReferenceTextureSet.add(i)}}incrementTextureRefCount(e){var i;const r=(i=e.options)==null?void 0:i.id;N(r,"Texture must have an id to be registered");let o=this.textureMap.get(r);o||(this.registerTexture(e),o=this.textureMap.get(r)),N(o,"Texture must have been registered"),e.txType==="SubTexture"&&this.incrementTextureRefCount(e.props.texture),o.nodeRefCount++,o.lastUpdate=Date.now(),this.zeroReferenceTextureSet.has(o)&&this.zeroReferenceTextureSet.delete(o)}decrementTextureRefCount(e){var i;const r=(i=e.options)==null?void 0:i.id;N(r,"Texture must have an id to be registered");const o=this.textureMap.get(r);N(o,"Texture must have been registered"),o.nodeRefCount--,o.lastUpdate=Date.now(),o.nodeRefCount===0&&this.zeroReferenceTextureSet.add(o),e.txType==="SubTexture"&&this.decrementTextureRefCount(e.props.texture)}}class ur extends xn{constructor(e){super(e);p(this,"registry");this.registry=new FinalizationRegistry(e)}registerTexture(e){var r,o;N((r=e.options)==null?void 0:r.id,"Texture must have an ID to be registered"),this.registry.register(e,(o=e.options)==null?void 0:o.id)}incrementTextureRefCount(){}decrementTextureRefCount(){}}class hr{constructor(t,e,r){p(this,"root",null);p(this,"driver");p(this,"canvas");p(this,"settings");p(this,"nodes",new Map);p(this,"nextTextureId",1);p(this,"textureTracker");var R,B;const o={appWidth:t.appWidth||1920,appHeight:t.appHeight||1080,deviceLogicalPixelRatio:t.deviceLogicalPixelRatio||1,devicePhysicalPixelRatio:t.devicePhysicalPixelRatio||window.devicePixelRatio,clearColor:(R=t.clearColor)!=null?R:0,coreExtensionModule:t.coreExtensionModule||null,experimental_FinalizationRegistryTextureUsageTracker:(B=t.experimental_FinalizationRegistryTextureUsageTracker)!=null?B:!1,textureCleanupOptions:t.textureCleanupOptions||{}};this.settings=o;const{appWidth:i,appHeight:s,deviceLogicalPixelRatio:c,devicePhysicalPixelRatio:h}=o,f=L=>{this.driver.releaseTexture(L)},a=o.experimental_FinalizationRegistryTextureUsageTracker&&typeof FinalizationRegistry=="function";this.textureTracker=a?new ur(f):new ar(f,this.settings.textureCleanupOptions);const x=i*c,u=s*c;this.driver=r;const w=document.createElement("canvas");this.canvas=w,w.width=x*h,w.height=u*h,w.style.width="".concat(x,"px"),w.style.height="".concat(u,"px");let T;if(typeof e=="string"?T=document.getElementById(e):T=e,!T)throw new Error("Could not find target element");r.onCreateNode=L=>{this.nodes.set(L.id,L)},r.onBeforeDestroyNode=L=>{this.nodes.delete(L.id)},T.appendChild(w)}async init(){await this.driver.init(this,this.settings,this.canvas),this.root=this.driver.getRootNode()}createNode(t){return this.driver.createNode(this.resolveNodeDefaults(t))}createTextNode(t){var e,r,o,i,s,c,h,f,a,x,u,w,T,R;return this.driver.createTextNode({...this.resolveNodeDefaults(t),text:(e=t.text)!=null?e:"",textRendererOverride:(r=t.textRendererOverride)!=null?r:null,fontSize:(o=t.fontSize)!=null?o:16,fontFamily:(i=t.fontFamily)!=null?i:"sans-serif",fontStyle:(s=t.fontStyle)!=null?s:"normal",fontWeight:(c=t.fontWeight)!=null?c:"normal",fontStretch:(h=t.fontStretch)!=null?h:"normal",textAlign:(f=t.textAlign)!=null?f:"left",contain:(a=t.contain)!=null?a:"none",scrollable:(x=t.scrollable)!=null?x:!1,scrollY:(u=t.scrollY)!=null?u:0,offsetY:(w=t.offsetY)!=null?w:0,letterSpacing:(T=t.letterSpacing)!=null?T:0,debug:(R=t.debug)!=null?R:{}})}resolveNodeDefaults(t){var c,h,f,a,x,u,w,T,R,B,L,m,y,d,v,_,C,b,g,S,A,Y,$,X,Z,q,le,Pe,Pt,Ft,Lt,kt,Bt,Mt,zt,Ot,jt,Yt,Dt,$t,Xt;const e=(c=t.color)!=null?c:4294967295,r=(a=(f=(h=t.colorTl)!=null?h:t.colorTop)!=null?f:t.colorLeft)!=null?a:e,o=(w=(u=(x=t.colorTr)!=null?x:t.colorTop)!=null?u:t.colorRight)!=null?w:e,i=(B=(R=(T=t.colorBl)!=null?T:t.colorBottom)!=null?R:t.colorLeft)!=null?B:e,s=(y=(m=(L=t.colorBr)!=null?L:t.colorBottom)!=null?m:t.colorRight)!=null?y:e;return{x:(d=t.x)!=null?d:0,y:(v=t.y)!=null?v:0,width:(_=t.width)!=null?_:0,height:(C=t.height)!=null?C:0,alpha:(b=t.alpha)!=null?b:1,clipping:(g=t.clipping)!=null?g:!1,color:e,colorTop:(S=t.colorTop)!=null?S:e,colorBottom:(A=t.colorBottom)!=null?A:e,colorLeft:(Y=t.colorLeft)!=null?Y:e,colorRight:($=t.colorRight)!=null?$:e,colorBl:i,colorBr:s,colorTl:r,colorTr:o,zIndex:(X=t.zIndex)!=null?X:0,zIndexLocked:(Z=t.zIndexLocked)!=null?Z:0,parent:(q=t.parent)!=null?q:null,texture:(le=t.texture)!=null?le:null,shader:(Pe=t.shader)!=null?Pe:null,src:(Pt=t.src)!=null?Pt:"",scale:(Ft=t.scale)!=null?Ft:1,mount:(Lt=t.mount)!=null?Lt:0,mountX:(Bt=(kt=t.mountX)!=null?kt:t.mount)!=null?Bt:0,mountY:(zt=(Mt=t.mountY)!=null?Mt:t.mount)!=null?zt:0,pivot:(Ot=t.pivot)!=null?Ot:.5,pivotX:(Yt=(jt=t.pivotX)!=null?jt:t.pivot)!=null?Yt:.5,pivotY:($t=(Dt=t.pivotY)!=null?Dt:t.pivot)!=null?$t:.5,rotation:(Xt=t.rotation)!=null?Xt:0}}destroyNode(t){return this.driver.destroyNode(t)}createTexture(t,e,r){const o=this.nextTextureId++,i={descType:"texture",txType:t,props:e,options:{...r,id:o}};return this.textureTracker.registerTexture(i),i}createShader(t,e){return{descType:"shader",shType:t,props:e}}getNodeById(t){return this.nodes.get(t)||null}toggleFreeze(){throw new Error("Not implemented")}advanceFrame(){throw new Error("Not implemented")}rerender(){throw new Error("Not implemented")}}let dr=1;function pn(){return dr++}class dt extends Mn{constructor(e,r,o,i){var s;super();p(this,"rendererMain");p(this,"stage");p(this,"id");p(this,"coreNode");p(this,"_children",[]);p(this,"_src","");p(this,"_parent",null);p(this,"_texture",null);p(this,"_shader",null);p(this,"onTextureLoaded",(e,r)=>{this.emit("txLoaded",r)});p(this,"onTextureFailed",(e,r)=>{this.emit("txFailed",r)});this.rendererMain=r,this.stage=o,this.id=(s=i==null?void 0:i.id)!=null?s:pn(),this.coreNode=i||new zn(this.stage,{id:this.id,x:e.x,y:e.y,width:e.width,height:e.height,alpha:e.alpha,clipping:e.clipping,color:e.color,colorTop:e.colorTop,colorBottom:e.colorBottom,colorLeft:e.colorLeft,colorRight:e.colorRight,colorTl:e.colorTl,colorTr:e.colorTr,colorBl:e.colorBl,colorBr:e.colorBr,zIndex:e.zIndex,zIndexLocked:e.zIndexLocked,scale:e.scale,mountX:e.mountX,mountY:e.mountY,mount:e.mount,pivot:e.pivot,pivotX:e.pivotX,pivotY:e.pivotY,rotation:e.rotation,parent:null,shader:null,shaderProps:null,texture:null,textureOptions:null}),this.coreNode.on("txLoaded",this.onTextureLoaded),this.coreNode.on("txFailed",this.onTextureFailed),this.parent=e.parent,this.shader=e.shader,this.texture=e.texture,this.src=e.src}get x(){return this.coreNode.x}set x(e){this.coreNode.x=e}get y(){return this.coreNode.y}set y(e){this.coreNode.y=e}get worldX(){return this.coreNode.worldX}get worldY(){return this.coreNode.worldY}get width(){return this.coreNode.width}set width(e){this.coreNode.width=e}get height(){return this.coreNode.height}set height(e){this.coreNode.height=e}get alpha(){return this.coreNode.alpha}set alpha(e){this.coreNode.alpha=e}get clipping(){return this.coreNode.clipping}set clipping(e){this.coreNode.clipping=e}get color(){return this.coreNode.color}set color(e){this.coreNode.color=e}get colorTop(){return this.coreNode.colorTop}set colorTop(e){this.coreNode.colorTop=e}get colorBottom(){return this.coreNode.colorBottom}set colorBottom(e){this.coreNode.colorBottom=e}get colorLeft(){return this.coreNode.colorLeft}set colorLeft(e){this.coreNode.colorLeft=e}get colorRight(){return this.coreNode.colorRight}set colorRight(e){this.coreNode.colorRight=e}get colorTl(){return this.coreNode.colorTl}set colorTl(e){this.coreNode.colorTl=e}get colorTr(){return this.coreNode.colorTr}set colorTr(e){this.coreNode.colorTr=e}get colorBl(){return this.coreNode.colorBl}set colorBl(e){this.coreNode.colorBl=e}get colorBr(){return this.coreNode.colorBr}set colorBr(e){this.coreNode.colorBr=e}get scale(){return this.coreNode.scale}set scale(e){this.coreNode.scale=e}get mount(){return this.coreNode.mount}set mount(e){this.coreNode.mount=e}get mountX(){return this.coreNode.mountX}set mountX(e){this.coreNode.mountX=e}get mountY(){return this.coreNode.mountY}set mountY(e){this.coreNode.mountY=e}get pivot(){return this.coreNode.pivot}set pivot(e){this.coreNode.pivot=e}get pivotX(){return this.coreNode.pivotX}set pivotX(e){this.coreNode.pivotX=e}get pivotY(){return this.coreNode.pivotY}set pivotY(e){this.coreNode.pivotY=e}get rotation(){return this.coreNode.rotation}set rotation(e){this.coreNode.rotation=e}get parent(){return this._parent}set parent(e){var o;const r=this._parent;if(this._parent=e,this.coreNode.parent=(o=e==null?void 0:e.coreNode)!=null?o:null,r){const i=r.children.indexOf(this);N(i!==-1,"MainOnlyNode.parent: Node not found in old parent's children!"),r.children.splice(i,1)}e&&e.children.push(this)}get children(){return this._children}get zIndex(){return this.coreNode.zIndex}set zIndex(e){this.coreNode.zIndex=e}get zIndexLocked(){return this.coreNode.zIndexLocked}set zIndexLocked(e){this.coreNode.zIndexLocked=e}get src(){return this._src}set src(e){if(this._src!==e){if(this._src=e,!e){this.texture=null;return}this.texture=this.rendererMain.createTexture("ImageTexture",{src:e})}}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this.rendererMain.textureTracker.decrementTextureRefCount(this._texture),e&&this.rendererMain.textureTracker.incrementTextureRefCount(e),this._texture=e,e?this.coreNode.loadTexture(e.txType,e.props,e.options):this.coreNode.unloadTexture())}get shader(){return this._shader}set shader(e){this._shader!==e&&(this._shader=e,e&&this.coreNode.loadShader(e.shType,e.props))}destroy(){this.emit("beforeDestroy",{}),this.parent=null,this.texture=null,this.emit("afterDestroy",{}),this.removeAllListeners()}flush(){}animate(e,r){const o=new On(this.coreNode,e,r);return new jn(this.stage.animationManager,o)}}class fr extends dt{constructor(e,r,o){super(e,r,o,new Yn(o,{id:pn(),x:e.x,y:e.y,width:e.width,height:e.height,alpha:e.alpha,clipping:e.clipping,color:e.color,colorTop:e.colorTop,colorBottom:e.colorBottom,colorLeft:e.colorLeft,colorRight:e.colorRight,colorTl:e.colorTl,colorTr:e.colorTr,colorBl:e.colorBl,colorBr:e.colorBr,zIndex:e.zIndex,zIndexLocked:e.zIndexLocked,scale:e.scale,mountX:e.mountX,mountY:e.mountY,mount:e.mount,pivot:e.pivot,pivotX:e.pivotX,pivotY:e.pivotY,rotation:e.rotation,text:e.text,fontSize:e.fontSize,fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontStretch:e.fontStretch,fontStyle:e.fontStyle,contain:e.contain,scrollable:e.scrollable,letterSpacing:e.letterSpacing,textAlign:e.textAlign,scrollY:e.scrollY,offsetY:e.offsetY,textRendererOverride:e.textRendererOverride,debug:e.debug,parent:null,texture:null,textureOptions:null,shader:null,shaderProps:null}));p(this,"onTextLoaded",(e,r)=>{this.emit("textLoaded",r)});p(this,"onTextFailed",(e,r)=>{this.emit("textFailed",r)});this.coreNode.on("textLoaded",this.onTextLoaded),this.coreNode.on("textFailed",this.onTextFailed)}get text(){return this.coreNode.text}set text(e){this.coreNode.text=e}get textRendererOverride(){return this.coreNode.textRendererOverride}set textRendererOverride(e){this.coreNode.textRendererOverride=e}get fontSize(){return this.coreNode.fontSize}set fontSize(e){this.coreNode.fontSize=e}get fontFamily(){return this.coreNode.fontFamily}set fontFamily(e){this.coreNode.fontFamily=e}get fontWeight(){return this.coreNode.fontWeight}set fontWeight(e){this.coreNode.fontWeight=e}get fontStretch(){return this.coreNode.fontStretch}set fontStretch(e){this.coreNode.fontStretch=e}get fontStyle(){return this.coreNode.fontStyle}set fontStyle(e){this.coreNode.fontStyle=e}get textAlign(){return this.coreNode.textAlign}set textAlign(e){this.coreNode.textAlign=e}get contain(){return this.coreNode.contain}set contain(e){this.coreNode.contain=e}get scrollable(){return this.coreNode.scrollable}set scrollable(e){this.coreNode.scrollable=e}get scrollY(){return this.coreNode.scrollY}set scrollY(e){this.coreNode.scrollY=e}get offsetY(){return this.coreNode.offsetY}set offsetY(e){this.coreNode.offsetY=e}get letterSpacing(){return this.coreNode.letterSpacing}set letterSpacing(e){this.coreNode.letterSpacing=e}get debug(){return this.coreNode.debug}set debug(e){this.coreNode.debug=e}}class gr{constructor(){p(this,"root",null);p(this,"stage",null);p(this,"rendererMain",null)}async init(t,e,r){this.stage=new Dn({rootId:1,appWidth:e.appWidth,appHeight:e.appHeight,deviceLogicalPixelRatio:e.deviceLogicalPixelRatio,devicePhysicalPixelRatio:e.devicePhysicalPixelRatio,clearColor:e.clearColor,canvas:r,debug:{monitorTextureCache:!1}}),this.rendererMain=t,N(this.stage.root);const o=new dt(t.resolveNodeDefaults({}),this.rendererMain,this.stage,this.stage.root);this.root=o,o.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,o)),this.onCreateNode(o),e.coreExtensionModule&&await $n(e.coreExtensionModule,this.stage)}createNode(t){N(this.rendererMain),N(this.stage);const e=new dt(t,this.rendererMain,this.stage);return e.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,e)),this.onCreateNode(e),e}createTextNode(t){N(this.rendererMain),N(this.stage);const e=new fr(t,this.rendererMain,this.stage);return e.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,e)),this.onCreateNode(e),e}destroyNode(t){t.destroy()}releaseTexture(t){const{stage:e}=this;N(e),e.txManager.removeTextureIdFromCache(t)}getRootNode(){return N(this.root),this.root}onCreateNode(t){throw new Error("Method not implemented.")}onBeforeDestroyNode(t){throw new Error("Method not implemented.")}}class yr{constructor(t,e){p(this,"node");p(this,"id");p(this,"stoppedPromise",null);p(this,"stoppedResolve",null);p(this,"state");this.node=t,this.id=e,this.onAnimationFinished=this.onAnimationFinished.bind(this),this.state="stopped"}start(){return this.stoppedResolve===null&&(this.makeStoppedPromise(),this.node.on("animationFinished",this.onAnimationFinished)),this.state="running",this.node.emit("startAnimation",{id:this.id}),this}stop(){return this.node.emit("stopAnimation",{id:this.id}),this.node.off("animationFinished",this.onAnimationFinished),this.stoppedResolve!==null&&(this.stoppedResolve(),this.stoppedResolve=null),this.state="stopped",this}pause(){return this.node.emit("pauseAnimation",{id:this.id}),this.state="paused",this}restore(){return this}waitUntilStopped(){this.makeStoppedPromise();const t=this.stoppedPromise;return N(t),t}onAnimationFinished(t,{id:e,loop:r}){var o;e===this.id&&(this.node.off("animationFinished",this.onAnimationFinished),(o=this.stoppedResolve)==null||o.call(this),this.stoppedResolve=null,this.state="stopped")}makeStoppedPromise(){this.stoppedResolve===null&&(this.stoppedPromise=new Promise(t=>{this.stoppedResolve=t}))}}class ze extends Xn{constructor(e,r,o){super(r,o);p(this,"rendererMain");p(this,"nextAnimationId",1);p(this,"_parent",null);p(this,"_children",[]);p(this,"_texture",null);p(this,"_shader",null);p(this,"_src","");p(this,"animationRegistry",new FinalizationRegistry(e=>{this.emit("destroyAnimation",{id:e})}));this.rendererMain=e}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this.rendererMain.textureTracker.decrementTextureRefCount(this._texture),e&&this.rendererMain.textureTracker.incrementTextureRefCount(e),this._texture=e,e?this.emit("loadTexture",e):this.emit("unloadTexture",{}))}get shader(){return this._shader}set shader(e){this._shader!==e&&(this._shader=e,e&&this.emit("loadShader",e))}animate(e,r){const o=this.nextAnimationId++;this.emit("createAnimation",{id:o,props:e,settings:r});const i=new yr(this,o);return this.animationRegistry.register(i,o),i}get src(){return this._src}set src(e){if(this._src!==e){if(this._src=e,!e){this.texture=null;return}this.texture=this.rendererMain.createTexture("ImageTexture",{src:e})}}get parent(){return this._parent}set parent(e){var o;const r=this._parent;if(this._parent=e,this.parentId=(o=e==null?void 0:e.id)!=null?o:0,r){const i=r.children.indexOf(this);N(i!==-1,"ThreadXMainNode.parent: Node not found in old parent's children!"),r.children.splice(i,1)}e&&e.children.push(this)}get children(){return this._children}get props(){return this.curProps}destroy(){super.destroy(),this.texture=null}}class Ut extends ze{constructor(e,r){super(e,r,{text:r.text,textRendererOverride:r.textRendererOverride,fontSize:r.fontSize,fontFamily:r.fontFamily,fontStretch:r.fontStretch,fontStyle:r.fontStyle,fontWeight:r.fontWeight,contain:r.contain,letterSpacing:r.letterSpacing,offsetY:r.offsetY,scrollable:r.scrollable,scrollY:r.scrollY,textAlign:r.textAlign});p(this,"_debug",{})}get debug(){return this._debug}set debug(e){this._debug!==e&&(this._debug=e,this.emit("debug",e))}}class mr{constructor(t){p(this,"settings");p(this,"threadx");p(this,"rendererMain",null);p(this,"root",null);this.settings=t,this.threadx=Wn.init({workerId:1,workerName:"main",sharedObjectFactory:e=>{const r=Un.extractTypeId(e),o=this.rendererMain;if(N(o),r===et.typeId){const i=new et(e);return i.lock(()=>new ze(o,i))}else if(r===tt.typeId){const i=new tt(e);return i.lock(()=>new Ut(o,i))}return null}}),this.threadx.registerWorker("renderer",new Worker(this.settings.coreWorkerUrl,{type:"module"}))}async init(t,e,r){this.rendererMain=t;const o=r.transferControlToOffscreen(),i=await this.threadx.sendMessageAsync("renderer",{type:"init",canvas:o,appWidth:e.appWidth,appHeight:e.appHeight,deviceLogicalPixelRatio:e.deviceLogicalPixelRatio,devicePhysicalPixelRatio:e.devicePhysicalPixelRatio,clearColor:e.clearColor,coreExtensionModule:e.coreExtensionModule},[o]),s=this.threadx.getSharedObjectById(i);N(s instanceof ze,"Unexpected root node type"),this.root=s}getRootNode(){return N(this.root,"Driver not initialized"),this.root}createNode(t){var i,s,c;const e=this.rendererMain;N(e);const r=new et;Object.assign(r,{x:t.x,y:t.y,width:t.width,height:t.height,parentId:t.parent?t.parent.id:0,clipping:t.clipping,color:t.color,colorTop:t.colorTop,colorRight:t.colorBottom,colorBottom:t.colorBottom,colorLeft:t.colorLeft,colorTl:t.colorTl,colorTr:t.colorTr,colorBl:t.colorBl,colorBr:t.colorBr,alpha:t.alpha,zIndex:t.zIndex,zIndexLocked:t.zIndexLocked,scale:t.scale,mount:t.mount,mountX:t.mountX,mountY:t.mountY,pivot:t.pivot,pivotX:t.pivotX,pivotY:t.pivotY,rotation:t.rotation});const o=new ze(e,r);return o.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,o)),this.threadx.shareObjects("renderer",[o]).catch(console.error),o.shader=(i=t.shader)!=null?i:null,o.texture=(s=t.texture)!=null?s:null,o.src=(c=t.src)!=null?c:"",this.onCreateNode(o),o}createTextNode(t){var i,s,c,h;const e=this.rendererMain;N(e);const r=new tt;Object.assign(r,{x:t.x,y:t.y,width:t.width,height:t.height,parentId:t.parent?t.parent.id:0,clipping:t.clipping,color:t.color,colorTop:t.colorTop,colorRight:t.colorBottom,colorBottom:t.colorBottom,colorLeft:t.colorLeft,colorTl:t.colorTl,colorTr:t.colorTr,colorBl:t.colorBl,colorBr:t.colorBr,alpha:t.alpha,zIndex:t.zIndex,zIndexLocked:t.zIndexLocked,scale:t.scale,mount:t.mount,mountX:t.mountX,mountY:t.mountY,pivot:t.pivot,pivotX:t.pivotX,pivotY:t.pivotY,rotation:t.rotation,text:t.text,textRendererOverride:t.textRendererOverride,fontSize:t.fontSize,fontFamily:t.fontFamily,fontWeight:t.fontWeight,fontStretch:t.fontStretch,fontStyle:t.fontStyle,contain:t.contain,letterSpacing:t.letterSpacing,offsetY:t.offsetY,textAlign:t.textAlign,scrollable:t.scrollable,scrollY:t.scrollY});const o=new Ut(e,r);return o.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,o)),this.threadx.shareObjects("renderer",[o]).catch(console.error),o.shader=(i=t.shader)!=null?i:null,o.texture=(s=t.texture)!=null?s:null,o.src=(c=t.src)!=null?c:"",o.debug=(h=t.debug)!=null?h:{},this.onCreateNode(o),o}destroyNode(t){t.destroy()}releaseTexture(t){this.threadx.sendMessage("renderer",{type:"releaseTexture",textureDescId:t})}onCreateNode(t){}onBeforeDestroyNode(t){}}let H,Ct;const xr={appWidth:1920,appHeight:1080,deviceLogicalPixelRatio:.6666667,devicePhysicalPixelRatio:1,rootId:"app",threadXCoreWorkerUrl:void 0};function pr(n={}){let t;const e={...xr,...n};return e.threadXCoreWorkerUrl?t=new mr({coreWorkerUrl:e.threadXCoreWorkerUrl}):t=new gr,H=new hr({appWidth:e.appWidth,appHeight:e.appHeight,deviceLogicalPixelRatio:e.deviceLogicalPixelRatio,devicePhysicalPixelRatio:e.devicePhysicalPixelRatio,clearColor:e.clearColor,coreExtensionModule:e.coreExtensionModule},e.rootId,t),Ct=H.createShader.bind(H),H}class wr extends Array{constructor(e){super();p(this,"_parent");this._parent=e}get selected(){return this[this._parent.selected||0]}get firstChild(){return this[0]}insert(e,r){if(r){const o=this.indexOf(r);this.splice(o,0,e)}else this.push(e);e.parent=this._parent,this._parent._isDirty=!0}remove(e){const r=this.indexOf(e);r>=0&&this.splice(r,1)}}const xe={debug:!1,animationSettings:{duration:250,easing:"ease-in-out"},fontSettings:{fontFamily:"Ubuntu",fontSize:100}};var nn,rn;const br=((rn=(nn=import.meta)==null?void 0:nn.env)==null?void 0:rn.MODE)==="development";function de(n,t,...e){br&&(xe.debug||Tr(t)&&t.debug)&&console.log(n,t,...e)}function Ht(n){return typeof n=="function"}function Tr(n){return typeof n=="object"}function Oe(n){return Array.isArray(n)}function vr(n){return typeof n=="string"}function Sr(n){return typeof n=="number"}function _r(n){return Number.isInteger(n)}function Rr(n,t){for(const e of t)if(e in n)return!0;return!1}class qt extends Array{constructor(e,r=[]){var t=(...args)=>{super(...args);p(this,"_node")};return Oe(r)?t(...r):vr(r)?t(r):t(...Object.entries(r).filter(([o,i])=>i).map(([o])=>o)),this._node=e,this}has(e){return this.indexOf(e)>=0}is(e){return this.indexOf(e)>=0}add(e){this.push(e),this._node._stateChanged()}toggle(e){this.has(e)?this.remove(e):this.add(e)}remove(e){const r=this.indexOf(e);r>=0&&(this.splice(r,1),this._node._stateChanged())}}function Cr(n){const t=n.children,e=n.flexDirection||"row",r=e==="row"?"width":"height",o=e==="row"?"marginLeft":"marginTop",i=e==="row"?"marginRight":"marginBottom",s=e==="row"?"x":"y",c=n[r]||0,h=t.reduce((u,w)=>u+(w[r]||0),0),f=n.gap||0,a=t.length,x=n.justifyContent||"flexStart";if(x==="flexStart"){let u=0;t.forEach(w=>{w[s]=u+(w[o]||0),u+=(w[r]||0)+f+(w[o]||0)+(w[i]||0)})}if(x==="flexEnd"){let u=c;for(let w=a-1;w>=0;w--){const T=t[w];N(T),T[s]=u-(T[r]||0)-(T[i]||0),u-=(T[r]||0)+f+(T[o]||0)+(T[i]||0)}}if(x==="center"){let u=(c-(h+f*(a-1)))/2;t.forEach(w=>{w[s]=u,u+=(w[r]||0)+f})}if(x==="spaceBetween"){const u=(c-h)/(a-1);let w=0;t.forEach(T=>{T[s]=w,w+=(T[r]||0)+u})}if(x==="spaceEvenly"){const u=(c-h)/(a+1);let w=u;t.forEach(T=>{T[s]=w,w+=(T[r]||0)+u})}}const{animationSettings:Nr}=xe;function Ar(n){const t=[];for(const[e,r]of Object.entries(n))t.push({type:e,props:r});return Ct("DynamicShader",{effects:t})}function Te(n=""){return{set(t){Sr(t)&&(t={width:t,color:255}),this.effects={...this.effects||{},["border".concat(n)]:t},this["_border".concat(n)]=t},get(){return this["_border".concat(n)]}}}const Ir=["alpha","color","colorTop","colorRight","colorLeft","colorBottom","colorTl","colorTr","colorBl","colorBr","height","fontSize","lineHeight","mount","mountX","mountY","pivot","pivotX","pivotY","rotation","scale","width","worldX","worldY","x","y","zIndex","zIndexLocked"],Er=["clipping","contain","fontFamily","src","text","textAlign","texture"];class ge extends Object{constructor(e){super();p(this,"name");p(this,"lng",null);p(this,"selected",null);p(this,"rendered");p(this,"_undoStates");p(this,"_renderProps");p(this,"_effects");p(this,"_parent",null);p(this,"_shader");p(this,"_style");p(this,"_states");p(this,"_animationSettings");p(this,"_updateLayoutOn");p(this,"_width");p(this,"_height");p(this,"_color");p(this,"_borderRadius");p(this,"_border");p(this,"_borderLeft");p(this,"_borderRight");p(this,"_borderTop");p(this,"_borderBottom");p(this,"_animate");p(this,"_autosized");p(this,"_isDirty");p(this,"_dom");p(this,"children");this.name=e,this.rendered=!1,this.autofocus=!1,this._renderProps={x:0,y:0},this.children=new wr(this);for(const r of Ir)Object.defineProperty(this,r,{get(){return this["_".concat(r)]||this.lng&&this.lng[r]},set(o){this["_".concat(r)]=o,this._sendToLightningAnimatable(r,o)}});for(const r of Er)Object.defineProperty(this,r,{get(){return this["_".concat(r)]||this.lng&&this.lng[r]},set(o){this["_".concat(r)]=o,this._sendToLightning(r,o)}});Object.defineProperties(this,{borderRadius:{set(r){this._borderRadius=r,this.effects={...this.effects||{},radius:{radius:r}}},get(){return this._borderRadius}},border:Te(),borderLeft:Te("Left"),borderRight:Te("Right"),borderTop:Te("Top"),borderBottom:Te("Bottom")}),Object.defineProperties(this,{linearGradient:{set(r={}){this._linearGradient=r,this.effects={...this.effects||{},linearGradient:r}},get(){return this._linearGradient}}})}get effects(){return this._effects}set effects(e){this._effects=e,this.shader=Ar(e)}get parent(){return this._parent}set parent(e){var r;this._parent=e,this.rendered&&this.lng&&(this.lng.parent=(r=e==null?void 0:e.lng)!=null?r:null)}get shader(){return this._shader}set shader(e){Oe(e)?this._shader=Ct(...e):this._shader=e,this._sendToLightning("shader",this._shader)}_sendToLightningAnimatable(e,r){if(this.rendered&&this.lng){if(Oe(r))return this.createAnimation({[e]:r[0]},r[1]).start();if(this._animate)return this.createAnimation({[e]:r}).start();this.lng[e]=r}else Oe(r)&&(r=r[0]),this._renderProps[e]=r}_sendToLightning(e,r){this.rendered&&this.lng?this.lng[e]=r:this._renderProps[e]=r}createAnimation(e,r){return N(this.lng,"Node must be rendered before animating"),this.lng.animate(e,r||this.animationSettings)}setFocus(){this.rendered?mn(this):this.autofocus=!0}isTextNode(){return this.name==="text"}_resizeOnTextLoad(){N(this.lng),this.lng.once("textLoaded",(e,r)=>{this.width=r.width,this.height=r.height,N(this.parent),this.parent.updateLayout(this,r)})}getText(){return this.children.map(e=>e.text).join("")}destroy(){this.lng&&H.destroyNode(this.lng)}set style(e){for(let r in e)r==="animate"&&(r="_animate"),this[r]||(this[r]=e[r]);this._style=e}get style(){return this._style}get hasChildren(){return this.children.length>0}set states(e){this._states=new qt(this,e),this.rendered&&this._stateChanged()}get states(){return this._states=this._states||new qt(this),this._states}get animationSettings(){return this._animationSettings||Nr}set animationSettings(e){this._animationSettings=e}get updateLayoutOn(){return this._updateLayoutOn}set updateLayoutOn(e){this._updateLayoutOn=e,queueMicrotask(()=>this.updateLayout())}_applyZIndexToChildren(){const e=this.zIndex;N(e);const o=e>=1&&parseInt(""+e)===e?".":"";this.children.forEach((i,s)=>{(!i.zIndex||i.zIndex<1)&&(i.zIndex=parseFloat("".concat(e).concat(o).concat(s+1)))})}updateLayout(e,r){this.display==="flex"&&this.hasChildren&&(de("Layout: ",this),Cr(this)),Ht(this.onLayout)&&this.onLayout(e,r)}_stateChanged(){if(de("State Changed: ",this,this.states),this.forwardStates){const e=this.states.slice();this.children.forEach(r=>r.states=e)}if(this._undoStates||this.style&&Rr(this.style,this.states)){this._undoStates=this._undoStates||{};let e={};for(const[o,i]of Object.entries(this._undoStates))this.states.includes(o)||(e={...e,...i});const r=this.states.reduce((o,i)=>{const s=this.style[i];return s&&(o={...o,...s},this._undoStates&&!this._undoStates[i]&&(this._undoStates[i]={},Object.keys(s).forEach(c=>{N(this._undoStates),this._undoStates[i][c]=this[c]}))),o},{});Object.assign(this,{...e,...r})}}render(){const e=this,r=this.parent;r!=null&&r._isDirty&&(r.updateLayout(),r._applyZIndexToChildren(),r._isDirty=!1),e.updateLayout(),this.states.length&&this._stateChanged();let o=e._renderProps;r!=null&&r.lng&&(o.parent=r.lng),e.isTextNode()?(o={...xe.fontSettings,...o,text:e.getText()},de("Rendering: ",this,o),e.lng=H.createTextNode(o),Ht(e.onLoad)&&e.lng.once("textLoaded",e.onLoad),(!e.width||!e.height)&&(e._autosized=!0,e._resizeOnTextLoad())):(o.src||o.texture||(N(r),isNaN(o.width)&&(o.width=(r.width||0)-o.x,e._width=o.width),isNaN(o.height)&&(o.height=(r.height||0)-o.y,e._height=o.height),o.color||(e._color=o.color=0)),de("Rendering: ",this,o),e.hasChildren&&e._applyZIndexToChildren(),e.lng=H.createNode(o),e.onLoad&&e.lng.once("txLoaded",e.onLoad)),e.rendered=!0,e.autofocus&&e.setFocus(),delete this._renderProps}}function wn(n){n.name!=="TextNode"&&(N(n instanceof ge),n.render(),n.children.forEach(t=>wn(t)))}const Pr=n=>{const t=pr(n.options),e=t.init();let r;return ee(()=>{e.then(()=>{N(r),r.lng=t.root,r.children.forEach(wn)}).catch(console.error)}),(()=>{const o=he("canvas"),i=r;return typeof i=="function"?Nt(i,o):r=o,ae(o,"zIndex",.1),Ie(o,()=>n.children),o})()};function Fr({createElement:n,createTextNode:t,isTextNode:e,replaceText:r,insertNode:o,removeNode:i,setProperty:s,getParentNode:c,getFirstChild:h,getNextSibling:f}){function a(m,y,d,v){if(d!==void 0&&!v&&(v=[]),typeof y!="function")return x(m,y,v,d);ne(_=>x(m,y(),_,d),v)}function x(m,y,d,v,_){for(;typeof d=="function";)d=d();if(y===d)return d;const C=typeof y,b=v!==void 0;if(C==="string"||C==="number")if(C==="number"&&(y=y.toString()),b){let g=d[0];g&&e(g)?r(g,y):g=t(y),d=T(m,d,v,g)}else d!==""&&typeof d=="string"?r(h(m),d=y):(T(m,d,v,t(y)),d=y);else if(y==null||C==="boolean")d=T(m,d,v);else{if(C==="function")return ne(()=>{let g=y();for(;typeof g=="function";)g=g();d=x(m,g,d,v)}),()=>d;if(Array.isArray(y)){const g=[];if(u(g,y,_))return ne(()=>d=x(m,g,d,v,!0)),()=>d;if(g.length===0){const S=T(m,d,v);if(b)return d=S}else Array.isArray(d)?d.length===0?R(m,g,v):w(m,d,g):d==null||d===""?R(m,g):w(m,b&&d||[h(m)],g);d=g}else{if(Array.isArray(d)){if(b)return d=T(m,d,v,y);T(m,d,null,y)}else d==null||d===""||!h(m)?o(m,y):B(m,y,h(m));d=y}}return d}function u(m,y,d){let v=!1;for(let _=0,C=y.length;_<C;_++){let b=y[_],g;if(!(b==null||b===!0||b===!1))if(Array.isArray(b))v=u(m,b)||v;else if((g=typeof b)=="string"||g==="number")m.push(t(b));else if(g==="function")if(d){for(;typeof b=="function";)b=b();v=u(m,Array.isArray(b)?b:[b])||v}else m.push(b),v=!0;else m.push(b)}return v}function w(m,y,d){let v=d.length,_=y.length,C=v,b=0,g=0,S=f(y[_-1]),A=null;for(;b<_||g<C;){if(y[b]===d[g]){b++,g++;continue}for(;y[_-1]===d[C-1];)_--,C--;if(_===b){const Y=C<v?g?f(d[g-1]):d[C-g]:S;for(;g<C;)o(m,d[g++],Y)}else if(C===g)for(;b<_;)(!A||!A.has(y[b]))&&i(m,y[b]),b++;else if(y[b]===d[C-1]&&d[g]===y[_-1]){const Y=f(y[--_]);o(m,d[g++],f(y[b++])),o(m,d[--C],Y),y[_]=d[C]}else{if(!A){A=new Map;let $=g;for(;$<C;)A.set(d[$],$++)}const Y=A.get(y[b]);if(Y!=null)if(g<Y&&Y<C){let $=b,X=1,Z;for(;++$<_&&$<C&&!((Z=A.get(y[$]))==null||Z!==Y+X);)X++;if(X>Y-g){const q=y[b];for(;g<Y;)o(m,d[g++],q)}else B(m,d[g++],y[b++])}else b++;else i(m,y[b++])}}}function T(m,y,d,v){if(d===void 0){let C;for(;C=h(m);)i(m,C);return v&&o(m,v),""}const _=v||t("");if(y.length){let C=!1;for(let b=y.length-1;b>=0;b--){const g=y[b];if(_!==g){const S=c(g)===m;!C&&!b?S?B(m,_,g):o(m,_,d):S&&i(m,g)}else C=!0}}else o(m,_,d);return[_]}function R(m,y,d){for(let v=0,_=y.length;v<_;v++)o(m,y[v],d)}function B(m,y,d){o(m,y,d),i(m,d)}function L(m,y,d={},v){return y||(y={}),v||ne(()=>d.children=x(m,y.children,d.children)),ne(()=>y.ref&&y.ref(m)),ne(()=>{for(const _ in y){if(_==="children"||_==="ref")continue;const C=y[_];C!==d[_]&&(s(m,_,C,d[_]),d[_]=C)}}),d}return{render(m,y){let d;return pe(v=>{d=v,a(y,m())}),d},insert:a,spread(m,y,d){typeof y=="function"?ne(v=>L(m,y(),v,d)):L(m,y,void 0,d)},createElement:n,createTextNode:t,insertNode:o,setProp(m,y,d,v){return s(m,y,d,v),d},mergeProps:_t,effect:ne,memo:O,createComponent:ut,use(m,y,d){return U(()=>m(y,d))}}}function Lr(n){const t=Fr(n);return t.mergeProps=_t,t}const ce={createElement(n){const t=new ge(n);return H.root&&ee(()=>t.render()),t},createTextNode(n){return{name:"TextNode",text:n,parent:null}},replaceText(n,t){de("Replace Text: ",n,t),n.text=t;const e=n.parent;N(e),e._autosized&&e._resizeOnTextLoad(),e.text=e.getText()},setProperty(n,t,e=!0){if(t==="animate"){n._animate=e;return}n[t]=e},insertNode(n,t,e){de("INSERT: ",n,t,e),n&&(n.children.insert(t,e),t.name==="TextNode"&&(n.isTextNode()||console.error("Inserting text outside of a <Text> node is not allowed"),n._autosized&&n._resizeOnTextLoad(),n.text=n.getText()))},isTextNode(n){return n.isTextNode()},removeNode(n,t){de("REMOVE: ",n,t),n.children.remove(t),t instanceof ge&&t.destroy()},getParentNode(n){var t;return(t=n.parent)!=null?t:void 0},getFirstChild(n){return n.children[0]},getNextSibling(n){if(n.parent){const t=n.parent.children||[],e=t.indexOf(n)+1;if(e<t.length)return t[e]}}},kr=n=>{const t=document.createElement("style");t.innerText=n,document.head.appendChild(t)},Br=function(n){const t=n.getBoundingClientRect(),e=H.settings.deviceLogicalPixelRatio||1,r=document.getElementById("linspector");r.style.left=n.offsetLeft+"px",r.style.top=n.offsetTop+"px",r.style.width=Math.ceil(t.width/e)+"px",r.style.height=Math.ceil(t.height/e)+"px",r.style.transformOrigin="0 0 0",r.style.transform="scale("+e+","+e+")"};function Mr(){kr("\n    #linspector {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      zIndex: 5;\n      overflow: hidden;\n    }\n    div.lnode {\n      position: absolute;\n      display: inline-block;\n    }\n    .ltext {\n      visibility: hidden;\n    }\n  "),setTimeout(function(){Br(H.canvas)},1e3)}const zr={...ce,createElement(n){const t=document.createElement("div");n==="canvas"?(t.id="linspector",N(H.canvas.parentNode),H.canvas.parentNode.appendChild(t)):t.classList.add("lnode"),n==="text"&&t.classList.add("ltext");const e=ce.createElement(n);if(n!=="canvas"){const r=e.render;e.render=()=>{r.call(e),e.id&&(t.id=e.id),e.clipping&&(t.style.overflow="hidden"),t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.top=e.y+"px",t.style.left=e.x+"px",t.style.zIndex="".concat(e.zIndex)}}return e._dom=t,t.solid=e,e},setProperty(n,t,e=!0){t==="width"?n._dom.style.width=e+"px":t==="height"?n._dom.style.height=e+"px":t==="y"?n._dom.style.top=e+"px":t==="x"?n._dom.style.left=e+"px":t==="zIndex"&&(n._dom.style.zIndex=e),ce.setProperty(n,t,e)},createTextNode(n){const t=document.createTextNode(n),e=ce.createTextNode(n);return e._dom=t,e},replaceText(n,t){ce.replaceText(n,t),n._dom.data=t},insertNode(n,t,e){n&&(e&&n._dom===e._dom.parentNode?n._dom.insertBefore(t._dom,e._dom):n._dom.appendChild(t._dom),ce.insertNode(n,t,e))},removeNode(n,t){n._dom.removeChild(t._dom),ce.removeNode(n,t)}};var on,sn;const bn=((sn=(on=import.meta)==null?void 0:on.env)==null?void 0:sn.MODE)==="development";bn&&Mr();const Tn=Lr(bn?zr:ce),Or=Tn.render,{effect:Ei,memo:vn,createComponent:l,createElement:he,createTextNode:Pi,insertNode:Fi,insert:Ie,spread:we,setProp:ae,mergeProps:j,use:Nt}=Tn;function E(n=""){return _r(n)?n:typeof n=="string"?n.startsWith("#")?+(n.replace("#","0x")+(n.length===7?"ff":"")):n.startsWith("0x")?Number(n):+("0x"+(n.length===6?n+"ff":n)):0}function jr(n){return n*Math.PI/180}const Kt="_$DX_DELEGATE";function Yr(n,t=window.document){const e=t[Kt]||(t[Kt]=new Set);for(let r=0,o=n.length;r<o;r++){const i=n[r];e.has(i)||(e.add(i),t.addEventListener(i,Dr))}}function Dr(n){const t="$$".concat(n.type);let e=n.composedPath&&n.composedPath()[0]||n.target;for(n.target!==e&&Object.defineProperty(n,"target",{configurable:!0,value:e}),Object.defineProperty(n,"currentTarget",{configurable:!0,get(){return e||document}});e;){const r=e[t];if(r&&!e.disabled){const o=e["".concat(t,"Data")];if(o!==void 0?r.call(e,o,n):r.call(e,n),n.cancelBubble)return}e=e._$host||e.parentNode||e.host}}const $r=!1;function Xr(n,t,e){return n.addEventListener(t,e),()=>n.removeEventListener(t,e)}function Wr([n,t],e,r){return[e?()=>e(n()):n,r?o=>t(r(o)):t]}function Ur(n){try{return document.querySelector(n)}catch(t){return null}}function Hr(n,t){const e=Ur("#".concat(n));e?e.scrollIntoView():t&&window.scrollTo(0,0)}function qr(n,t,e,r){let o=!1;const i=c=>typeof c=="string"?{value:c}:c,s=Wr(M(i(n()),{equals:(c,h)=>c.value===h.value}),void 0,c=>(!o&&t(c),c));return e&&ue(e((c=n())=>{o=!0,s[1](i(c)),o=!1})),{signal:s,utils:r}}function Kr(n){if(n){if(Array.isArray(n))return{signal:n}}else return{signal:M({value:""})};return n}function Vr(){return qr(()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state}),({value:n,replace:t,scroll:e,state:r})=>{t?window.history.replaceState(r,"",n):window.history.pushState(r,"",n),Hr(window.location.hash.slice(1),e)},n=>Xr(window,"popstate",()=>n()),{go:n=>window.history.go(n)})}function Gr(){let n=new Set;function t(o){return n.add(o),()=>n.delete(o)}let e=!1;function r(o,i){if(e)return!(e=!1);const s={to:o,options:i,defaultPrevented:!1,preventDefault:()=>s.defaultPrevented=!0};for(const c of n)c.listener({...s,from:c.location,retry:h=>{h&&(e=!0),c.navigate(o,i)}});return!s.defaultPrevented}return{subscribe:t,confirm:r}}const Jr=/^(?:[a-z0-9]+:)?\/\//i,Zr=/^\/+|(\/)\/+$/g;function Se(n,t=!1){const e=n.replace(Zr,"$1");return e?t||/^[?#]/.test(e)?e:"/"+e:""}function je(n,t,e){if(Jr.test(t))return;const r=Se(n),o=e&&Se(e);let i="";return!o||t.startsWith("/")?i=r:o.toLowerCase().indexOf(r.toLowerCase())!==0?i=r+o:i=o,(i||"/")+Se(t,!i)}function Qr(n,t){if(n==null)throw new Error(t);return n}function Sn(n,t){return Se(n).replace(/\/*(\*.*)?$/g,"")+Se(t)}function eo(n){const t={};return n.searchParams.forEach((e,r)=>{t[r]=e}),t}function to(n,t,e){const[r,o]=n.split("/*",2),i=r.split("/").filter(Boolean),s=i.length;return c=>{const h=c.split("/").filter(Boolean),f=h.length-s;if(f<0||f>0&&o===void 0&&!t)return null;const a={path:s?"":"/",params:{}},x=u=>e===void 0?void 0:e[u];for(let u=0;u<s;u++){const w=i[u],T=h[u],R=w[0]===":",B=R?w.slice(1):w;if(R&&it(T,x(B)))a.params[B]=T;else if(R||!it(T,w))return null;a.path+="/".concat(T)}if(o){const u=f?h.slice(-f).join("/"):"";if(it(u,x(o)))a.params[o]=u;else return null}return a}}function it(n,t){const e=r=>r.localeCompare(n,void 0,{sensitivity:"base"})===0;return t===void 0?!0:typeof t=="string"?e(t):typeof t=="function"?t(n):Array.isArray(t)?t.some(e):t instanceof RegExp?t.test(n):!1}function no(n){const[t,e]=n.pattern.split("/*",2),r=t.split("/").filter(Boolean);return r.reduce((o,i)=>o+(i.startsWith(":")?2:3),r.length-(e===void 0?0:1))}function _n(n){const t=new Map,e=Ge();return new Proxy({},{get(r,o){return t.has(o)||Gn(e,()=>t.set(o,O(()=>n()[o]))),t.get(o)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(n())}})}function Rn(n){let t=/(\/?\:[^\/]+)\?/.exec(n);if(!t)return[n];let e=n.slice(0,t.index),r=n.slice(t.index+t[0].length);const o=[e,e+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(r);)o.push(e+=t[1]),r=r.slice(t[0].length);return Rn(r).reduce((i,s)=>[...i,...o.map(c=>c+s)],[])}const ro=100,Cn=un(),Ze=un(),At=()=>Qr(Tt(Cn),"Make sure your app is wrapped in a <Router />");let Ce;const It=()=>Ce||Tt(Ze)||At().base,Ee=()=>At().navigatorFactory(),Et=()=>It().params;function oo(n,t="",e){const{component:r,data:o,children:i}=n,s=!i||Array.isArray(i)&&!i.length,c={key:n,element:r?()=>ut(r,{}):()=>{const{element:h}=n;return h===void 0&&e?ut(e,{}):h},preload:n.component?r.preload:n.preload,data:o};return Nn(n.path).reduce((h,f)=>{for(const a of Rn(f)){const x=Sn(t,a),u=s?x:x.split("/*",1)[0];h.push({...c,originalPath:a,pattern:u,matcher:to(u,!s,n.matchFilters)})}return h},[])}function io(n,t=0){return{routes:n,score:no(n[n.length-1])*1e4-t,matcher(e){const r=[];for(let o=n.length-1;o>=0;o--){const i=n[o],s=i.matcher(e);if(!s)return null;r.unshift({...s,route:i})}return r}}}function Nn(n){return Array.isArray(n)?n:[n]}function An(n,t="",e,r=[],o=[]){const i=Nn(n);for(let s=0,c=i.length;s<c;s++){const h=i[s];if(h&&typeof h=="object"&&h.hasOwnProperty("path")){const f=oo(h,t,e);for(const a of f){r.push(a);const x=Array.isArray(h.children)&&h.children.length===0;if(h.children&&!x)An(h.children,a.pattern,e,r,o);else{const u=io([...r],o.length);o.push(u)}r.pop()}}}return r.length?o:o.sort((s,c)=>c.score-s.score)}function so(n,t){for(let e=0,r=n.length;e<r;e++){const o=n[e].matcher(t);if(o)return o}return[]}function lo(n,t){const e=new URL("http://sar"),r=O(h=>{const f=n();try{return new URL(f,e)}catch(a){return console.error("Invalid path ".concat(f)),h}},e,{equals:(h,f)=>h.href===f.href}),o=O(()=>r().pathname),i=O(()=>r().search,!0),s=O(()=>r().hash),c=O(()=>"");return{get pathname(){return o()},get search(){return i()},get hash(){return s()},get state(){return t()},get key(){return c()},query:_n(se(i,()=>eo(r())))}}function co(n,t="",e,r){const{signal:[o,i],utils:s={}}=Kr(n),c=s.parsePath||(g=>g),h=s.renderPath||(g=>g),f=s.beforeLeave||Gr(),a=je("",t),x=void 0;if(a===void 0)throw new Error("".concat(a," is not a valid base path"));a&&!o().value&&i({value:a,replace:!0,scroll:!1});const[u,w]=M(!1),T=async g=>{w(!0);try{await Jn(g)}finally{w(!1)}},[R,B]=M(o().value),[L,m]=M(o().state),y=lo(R,L),d=[],v={pattern:a,params:{},path:()=>a,outlet:()=>null,resolvePath(g){return je(a,g)}};if(e)try{Ce=v,v.data=e({data:void 0,params:{},location:y,navigate:C(v)})}finally{Ce=void 0}function _(g,S,A){U(()=>{if(typeof S=="number"){S&&(s.go?f.confirm(S,A)&&s.go(S):console.warn("Router integration does not support relative routing"));return}const{replace:Y,resolve:$,scroll:X,state:Z}={replace:!1,resolve:!0,scroll:!0,...A},q=$?g.resolvePath(S):je("",S);if(q===void 0)throw new Error("Path '".concat(S,"' is not a routable path"));if(d.length>=ro)throw new Error("Too many redirects");const le=R();if((q!==le||Z!==L())&&!$r){if(f.confirm(q,A)){const Pe=d.push({value:le,replace:Y,scroll:X,state:L()});T(()=>{B(q),m(Z)}).then(()=>{d.length===Pe&&b({value:q,state:Z})})}}})}function C(g){return g=g||Tt(Ze)||v,(S,A)=>_(g,S,A)}function b(g){const S=d[0];S&&((g.value!==S.value||g.state!==S.state)&&i({...g,replace:S.replace,scroll:S.scroll}),d.length=0)}ne(()=>{const{value:g,state:S}=o();U(()=>{g!==R()&&T(()=>{B(g),m(S)})})});{let g=function(S){if(S.defaultPrevented||S.button!==0||S.metaKey||S.altKey||S.ctrlKey||S.shiftKey)return;const A=S.composedPath().find(le=>le instanceof Node&&le.nodeName.toUpperCase()==="A");if(!A||!A.hasAttribute("link"))return;const Y=A.href;if(A.target||!Y&&!A.hasAttribute("state"))return;const $=(A.getAttribute("rel")||"").split(/\s+/);if(A.hasAttribute("download")||$&&$.includes("external"))return;const X=new URL(Y);if(X.origin!==window.location.origin||a&&X.pathname&&!X.pathname.toLowerCase().startsWith(a.toLowerCase()))return;const Z=c(X.pathname+X.search+X.hash),q=A.getAttribute("state");S.preventDefault(),_(v,Z,{resolve:!1,replace:A.hasAttribute("replace"),scroll:!A.hasAttribute("noscroll"),state:q&&JSON.parse(q)})};Yr(["click"]),document.addEventListener("click",g),ue(()=>document.removeEventListener("click",g))}return{base:v,out:x,location:y,isRouting:u,renderPath:h,parsePath:c,navigatorFactory:C,beforeLeave:f}}function ao(n,t,e,r,o){const{base:i,location:s,navigatorFactory:c}=n,{pattern:h,element:f,preload:a,data:x}=r().route,u=O(()=>r().path);a&&a();const w={parent:t,pattern:h,get child(){return e()},path:u,params:o,data:t.data,outlet:f,resolvePath(T){return je(i.path(),T,u())}};if(x)try{Ce=w,w.data=x({data:t.data,params:o,location:s,navigate:c(w)})}finally{Ce=void 0}return w}const uo=n=>{const{source:t,url:e,base:r,data:o,out:i}=n,s=t||Vr(),c=co(s,r,o);return l(Cn.Provider,{value:c,get children(){return n.children}})},ho=n=>{const t=At(),e=It(),r=vt(()=>n.children),o=O(()=>An(r(),Sn(e.pattern,n.base||""),fo)),i=O(()=>so(o(),t.location.pathname)),s=_n(()=>{const a=i(),x={};for(let u=0;u<a.length;u++)Object.assign(x,a[u].params);return x});t.out&&t.out.matches.push(i().map(({route:a,path:x,params:u})=>({originalPath:a.originalPath,pattern:a.pattern,path:x,params:u})));const c=[];let h;const f=O(se(i,(a,x,u)=>{let w=x&&a.length===x.length;const T=[];for(let R=0,B=a.length;R<B;R++){const L=x&&x[R],m=a[R];u&&L&&m.route.key===L.route.key?T[R]=u[R]:(w=!1,c[R]&&c[R](),pe(y=>{c[R]=y,T[R]=ao(t,T[R-1]||e,()=>f()[R+1],()=>i()[R],s)}))}return c.splice(a.length).forEach(R=>R()),u&&w?u:(h=T[0],T)}));return l(ie,{get when(){return f()&&h},keyed:!0,children:a=>l(Ze.Provider,{value:a,get children(){return a.outlet()}})})},K=n=>{const t=vt(()=>n.children);return _t(n,{get children(){return t()}})},fo=()=>{const n=It();return l(ie,{get when(){return n.child},keyed:!0,children:t=>l(Ze.Provider,{value:t,get children(){return t.outlet()}})})};var go=!!cr,yo=go?n=>Ge()?ue(n):n:ue;function mo(n,t,e,r){return n.addEventListener(t,e,r),yo(n.removeEventListener.bind(n,t,e,r))}function xo(n,t=Ge()){let e=0,r,o;return()=>(e++,ue(()=>{e--,queueMicrotask(()=>{!e&&o&&(o(),o=r=void 0)})}),o||pe(i=>r=n(o=i),t),r)}var po=xo(()=>{const[n,t]=M(null);return mo(window,"keydown",e=>{t(e),setTimeout(()=>t(null))}),n});function Le(n){return typeof n=="function"}function Vt(n,t){if(!n)throw new Error(t||"Assertion failed")}let st={Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Enter:"Enter",Last:"l"};const[ft,wo]=M([]),bo=(n={})=>{const t=po();st={...st,...n};const e=Object.entries(st);return ee(se(Ue,(r,o,i=[])=>{var h;let s=r;const c=[];for(;s;)s.states.has("focus")||(s.states.add("focus"),Le(s.onFocus)&&s.onFocus.call(s,r,o!=null?o:null)),c.push(s),s=(h=s.parent)!=null?h:null;return i.forEach(f=>{c.includes(f)||(f.states.remove("focus"),Le(f.onBlur)&&f.onBlur.call(f,r,o!=null?o:null))}),wo(c),c},{defer:!0})),ee(()=>{const r=t();if(r){const o=e.find(([i,s])=>s===r.key);U(()=>{const i=ft();for(const s of i){const c=o?o[0]:void 0;if(c){const h=s["on".concat(c)];if(Le(h)&&h.call(s,r,s)===!0)break}if(Le(s.onKeyPress)&&s.onKeyPress.call(s,r,c,s)===!0)break}return!1})}}),ft};function To(n,t){const e=t();let r,o,i,s;Array.isArray(e)?e.length===2?(r=s=e[0],o=i=e[1]):e.length===3?(r=e[0],o=i=e[1],s=e[2]):[r,i,s,o]=e:r=i=s=o=e,n.onLayout=(c,h)=>{h&&(n.width=h.width+o+i,n.height=h.height+r+s,c.x=o,c.y=r,n.parent.updateLayout(n,{width:n.width,height:n.height}))}}function vo(n=[]){const t=[];let e;for(e=0;e<n.length;e++){const r=n[e];if(typeof r=="string"&&!r.includes("PAUSE-"))t.push(n[e]);else break}return[t.join(",\b ")].concat(n.slice(e))}function Gt(n){return new Promise(t=>{setTimeout(t,n)})}function So(n,t,e="en-US"){const r=window.speechSynthesis;return new Promise((o,i)=>{const s=new SpeechSynthesisUtterance(n);s.lang=e,s.onend=()=>{o()},s.onerror=c=>{i(c)},t.push(s),r.speak(s)})}function gt(n,t,e=!0){const r=window.speechSynthesis,o=vo(Array.isArray(n)?n:[n]),i=[],s=[];let c=!0;return{series:(async()=>{try{for(;c&&o.length;){const f=await Promise.resolve(o.shift());if(c){if(typeof f=="string"&&f.includes("PAUSE-")){let a=Number(f.split("PAUSE-")[1])*1e3;isNaN(a)&&(a=0),await Gt(a)}else if(typeof f=="string"&&f.length){let x=3;for(;c&&x>0;)try{await So(f,s,t),x=0}catch(u){if(u instanceof SpeechSynthesisErrorEvent)if(u.error==="network")x--,console.warn("Speech synthesis network error. Retries left: ".concat(x)),await Gt(500*(3-x));else if(u.error==="canceled"||u.error==="interrupted")x=0;else throw new Error("SpeechSynthesisErrorEvent: ".concat(u.error));else throw u}}else if(typeof f=="function"){const a=gt(f(),t,!1);i.push(a),await a.series}else if(Array.isArray(f)){const a=gt(f,t,!1);i.push(a),await a.series}}else break}}finally{c=!1}})(),get active(){return c},append:f=>{o.push(f)},cancel:()=>{c&&(e&&r.cancel(),i.forEach(f=>{f.cancel()}),c=!1)}}}let ke;function _o(n,t="en-US"){return ke&&ke.cancel(),ke=gt(n,t),ke}var Ro=(n,t)=>{let e;const r=()=>clearTimeout(e);return Ge()&&ue(r),Object.assign((...i)=>{e!==void 0&&r(),e=setTimeout(()=>n(...i),t)},{clear:r})};let yt,_e=[],te,mt=!1;const Co=3e5;function Jt(n,t){const e=Ro(n,t);let r;const o=i=>{r=i,e(i)};return o.flush=()=>{e.clear(),n(r)},o.clear=e.clear,o}function ve(n){return n.id||n.name}function No(n=[]){if(!J.onFocusChange)return;const t=n.every(i=>!i.loading),e=n.filter(i=>!_e.includes(i));if(yt(),!t&&J.onFocusChange){J.onFocusChange([]);return}_e=n.slice(0);const r=[],o=e.reduce((i,s)=>(s.announce?(i.push([ve(s),"Announce",s.announce]),r.push(s.announce)):s.title?(i.push([ve(s),"Title",s.title]),r.push(s.title)):i.push([ve(s),"No Announce",""]),i),[]);if(e.reverse().reduce((i,s)=>(s.announceContext?(i.push([ve(s),"Context",s.announceContext]),r.push(s.announceContext)):i.push([ve(s),"No Context",""]),i),o),J.debug&&console.table(o),r.length)return J.speak(r.reduce((i,s)=>i.concat(s),[]))}function Ao(n){if(!mt)return te=_o(n)}const J={debug:!1,cancel:function(){te&&te.cancel()},clearPrevFocus:function(n=0){_e=_e.slice(0,n),yt()},speak:function(n,{append:t=!1,notification:e=!1}={}){return J.onFocusChange&&(J.onFocusChange.flush(),t&&te&&te.active?te.append(n):(J.cancel(),Ao(n)),e&&(mt=!0,te==null||te.series.finally(()=>{mt=!1}).catch(console.error))),te},setupTimers:function({focusDebounce:n=400,focusChangeTimeout:t=Co}={}){J.onFocusChange=Jt(No,n),yt=Jt(()=>{_e=[]},t)}},Io=()=>(J.setupTimers(),ee(se(ft,J.onFocusChange,{defer:!0})),J);function He(n){return function(){var i,s;const t=this.children.length,e=this.wrap,r=this.selected;if(n==="right"||n==="down")do if(this.selected=(this.selected||0)%t+1,this.selected>=t){if(!e){this.selected=null;break}this.selected=0}while((i=this.children[this.selected])!=null&&i.skipFocus);else if(n==="left"||n==="up")do if(this.selected=(this.selected||0)%t-1,this.selected<0){if(!e){this.selected=null;break}this.selected=t-1}while((s=this.children[this.selected])!=null&&s.skipFocus);if(this.selected===null)return this.selected=r,!1;const o=this.children[this.selected];if(Vt(o instanceof ge),this.onSelectedChanged&&this.onSelectedChanged.call(this,this,o,this.selected,r),this.plinko&&r!==null){const c=this.children[r];Vt(c instanceof ge);const h=c.selected;o.selected=h}return mn(o),!0}}function V(n){const t=He("left"),e=He("right");return(()=>{const r=he("node");return ae(r,"onLeft",t),ae(r,"onRight",e),ae(r,"selected",0),we(r,j({get onFocus(){return n.onFocus||(o=>{if(!o||!o.selected)return;const i=o.children[o.selected];i instanceof ge&&i.setFocus()})}},n),!0),Ie(r,()=>n.children),r})()}function G(n){const t=He("up"),e=He("down");return(()=>{const r=he("node");return ae(r,"onUp",t),ae(r,"onDown",e),ae(r,"selected",0),we(r,j({get onFocus(){return n.onFocus||(o=>{if(!o||!o.selected)return;const i=o.children[o.selected];i instanceof ge&&i.setFocus()})}},n),!0),Ie(r,()=>n.children),r})()}function Eo(n,t){const e=H.createTexture("ImageTexture",{src:n});return t.reduce((r,o)=>{const{x:i,y:s,width:c,height:h}=o;return r[o.name]=H.createTexture("SubTexture",{texture:e,x:i,y:s,width:c,height:h}),r},{})}const Po={display:"flex",flexDirection:"row",justifyContent:"flexStart"},Fo={display:"flex",flexDirection:"column",justifyContent:"flexStart"},Lo={screenW:1920,screenH:1080,marginX:120,marginY:120,gutterX:24,gutterY:72,focusScale:1.1},ko={primary:"#00315c",container:"#004882"},Bo={display1:{fontFamily:"Ubuntu",fontSize:72,lineHeight:88,fontStyle:"600",verticalAlign:"middle",textBaseline:"bottom",maxLineSuffix:"..."},display2:{fontFamily:"Ubuntu",fontSize:56,lineHeight:72},headline1:{fontFamily:"Ubuntu",fontSize:36,fontStyle:"600",lineHeight:48,verticalAlign:"middle",textBaseline:"bottom",maxLineSuffix:"..."},headline2:{fontFamily:"Ubuntu",fontSize:32,lineHeight:44},headline3:{fontFamily:"Ubuntu",fontSize:28,lineHeight:40},body1:{fontFamily:"Ubuntu",fontSize:32,lineHeight:40},body2:{fontFamily:"Ubuntu",fontSize:28,lineHeight:34},button1:{fontFamily:"Ubuntu",fontSize:32,lineHeight:40}},z={flexRow:Po,flexColumn:Fo,layout:Lo,color:ko,typography:Bo},W={Page:{width:1920,height:1080},headlineText:{width:1200,height:240,x:360,y:455,contain:"both",fontSize:66,textAlign:"center"},headlineSubText:{width:960,height:170,x:530,y:655,contain:"both",fontSize:48,textAlign:"center"},itemsContainer:{width:z.layout.screenW,height:600,y:560,x:0},Thumbnail:{borderRadius:16,width:185,height:278,scale:1,zIndex:2,focus:{scale:1.1}},FocusRing:{borderRadius:16,width:194,height:286,y:-5,x:-5},showHeadline:{x:70,y:20},headlineBlur:{width:1920,height:150,x:0,y:0,zIndex:14,alpha:.9,color:E("#000000")},RowTitle:{height:60,width:300,marginTop:20,fontSize:36,color:E("#f0f0f0"),zIndex:2},Row:{display:"flex",justifyContent:"spaceBetween",height:300},Column:{display:"flex",flexDirection:"column",justifyContent:"flexStart",gap:20,width:z.layout.screenW-2*z.layout.marginX,x:z.layout.marginX+z.layout.gutterX,y:48},Rect:{width:250,height:100,y:10,x:300,color:E("#0000ff")},peopleBio:{...z.typography.body1,contain:"both",width:1500,height:400}},qe={width:386,height:136,color:E("#000000"),alpha:.3,borderRadius:30,border:{width:5,color:E("#cc33ff")},scale:1,focus:{color:["#58807d",{duration:2e3}],scale:1.2,border:{width:5,color:E("#ff0000")},alpha:[1,{duration:1500,delay:200,timing:"easy-in"}]},active:{color:E("#33ff55")},disabled:{alpha:1}},Mo={color:E("#00A699"),height:8,y:2,x:-4,width:qe.width+8},zo={fontSize:32,contain:"width",textAlign:"center",mountY:-.35,color:E("#F6F6F9"),height:qe.height,width:qe.width,focus:{fontSize:64}},Zt={container:qe,topBar:Mo,text:zo},Qt={width:386,height:136,color:E("#715cab"),focus:{color:E("#5a39a2")},disabled:{color:E("#291d43")}},Oo={fontSize:32,contain:"width",textAlign:"center",mountY:-.35,color:E("#FFFFFF"),height:Qt.height,width:Qt.width,focus:{fontSize:40},disabled:{color:E("#909090")}};function jo(n){return l(k,j(n,{animate:!0,get style(){return W.Thumbnail}}))}function Yo(n){return l(k,j(n,{get style(){return W.FocusRing}}))}function Ke(n){const[t,e]=sr(n,["items"]);return l(V,j(e,{get style(){return W.Row},get children(){return l(Rt,{get each(){return t.items},children:r=>l(jo,r)})}}))}const[Do,be]=M(""),$o="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyZDE4YjEwMTA0YjdiZTlkNjFiMWYwYjVlMGEwNzM2OCIsInN1YiI6IjYwZTVjMTdlNGNhNjc2MDA3NTA4Njc3MSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.D_nqH9kd-bhhWzeVsTDPYhHnsUaNAuyAa6YATmKHqsA",Xo="https://api.themoviedb.org/3";let In,En;const Wo="w185",Uo={headers:{"Content-Type":"application/json",Authorization:"Bearer "+$o}};function Re(n,t=Wo){return En+t+n}function Ho(n,t={}){return In?xt(n,t):Pn().then(()=>xt(n,t))}function xt(n,t={}){return fetch(Xo+n,{...Uo,...t}).then(e=>e.json())}function Pn(){return xt("/configuration").then(n=>{var t;return In=n,En=(t=n.images)==null?void 0:t.secure_base_url,n})}const ye={get:Ho,loadConfig:Pn};function qo(n,t){return n.length>t?n.substring(0,t-3)+"...":n}function Ko(n,t=7){let e=[];for(let r=0,o=n.length;r<o;r+=t)e.push(n.slice(r,r+t));return e}function Ne(n=[]){return n.map(t=>({src:Re(t.poster_path||t.profile_path),tileSrc:Re(t.backdrop_path||t.profile_path,"w300"),backdrop:Re(t.backdrop_path,"original"),href:"/entity/".concat(t.media_type||"people","/").concat(t.id),shortTitle:qo(t.title||t.name,30),title:t.title||t.name,data:t,entityInfo:{type:t.media_type||"people",id:t.id},heroContent:{title:t.title||t.name,description:t.overview}}))}let lt=new Map;const Be=new Map;function Vo(n){return t=>{const e="/trending/".concat(n,"/week?page=").concat(t);if(lt.has(e))return lt.get(e);let r=ye.get(e).then(o=>{let i=o.results.filter(h=>!h.adult),s=(Be.has(n)?Be.get(n):[]).concat(Ne(i)),c=Ko(s);return c[c.length-1].length<7?Be.set(n,c.pop()):Be.delete(n),c});return lt.set(e,r),r}}function Go(n){const[t,e]=M([]),[r,o]=M(1),[i,s]=M(!1),[c]=fe(r,n);return ct(()=>{const h=c();h&&Vn(()=>{h.length===0&&s(!0),e(f=>[...f,...h])})}),{pages:t,page:r,setPage:o,setPages:e,end:i,setEnd:s}}const Qe=1100,Jo={...z.typography.display2,width:Qe,height:58,contain:"both"},Zo=n=>l(P,j(n,{style:Jo,get children(){return n.children}})),Qo={...z.typography.body1,width:Qe,height:72,contain:"both"},ei={fontSize:20,lineHeight:20},ti=n=>l(P,j(n,{style:Qo,get children(){return n.children}}));function ni(n){return[l(ie,{get when(){return(n==null?void 0:n.rtCrit)&&(n==null?void 0:n.rtCrit)!=="0"},get children(){return[l(k,{src:"https://upload.wikimedia.org/wikipedia/commons/b/b6/Tomato-Torrent-Icon.png",title:"Rotten Tomatoes Rating",style:{width:30,height:30,marginRight:-6}}),l(P,{style:pt,get children(){return n.rtCrit+"%"}})]}}),l(ie,{get when(){return(n==null?void 0:n.rtFan)&&(n==null?void 0:n.rtFan)!=="0"},get children(){return[l(k,{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/da/Rotten_Tomatoes_positive_audience.svg/80px-Rotten_Tomatoes_positive_audience.svg.png",title:"Rotten Tomatoes Rating",style:{width:24,height:30,marginRight:-6}}),l(P,{style:pt,get children(){return n.rtFan+"%"}})]}})]}const ri=n=>(()=>{const t=he("node");return Nt(To,t,()=>[8,15,13,15]),we(t,j(n,{style:{color:"#00000099",borderRadius:8,border:{width:3,color:"#ffffff"}}}),!0),Ie(t,l(P,{style:ei,get children(){return n.children}})),t})(),pt=z.typography.body2,oi=n=>l(k,{get style(){return{...z.flexRow,gap:12,width:Qe,height:48}},get children(){return[l(P,{style:pt,get children(){return n.metaText}}),l(Rt,{get each(){return n.badges},children:t=>l(ri,{y:-5,children:t})}),vn(()=>ni(n.reviews))]}}),Fn=n=>l(k,j(n,{get style(){return{...z.flexColumn,width:Qe,height:160,gap:16}},get children(){return[l(Zo,{get children(){return n.title}}),l(ti,{get children(){return n.description}}),l(oi,{get metaText(){return n.metaText},get badges(){return n.badges},get reviews(){return n.reviews}})]}}));function ii(n){const t=Math.floor(n/60),e=n%60;return t+"h "+(e<10?"0":"")+e+"m"}function en(n){return n.split("-")[0]}function si({type:n,id:t}){return ye.get("/".concat(n,"/").concat(t,"/recommendations")).then(({results:e})=>e.length?Ne(e.slice(0,7)):ye.get("/trending/".concat(n,"/week?page=1")).then(({results:r})=>Ne(r.slice(0,7))))}function li({type:n,id:t}){return ye.get("/".concat(n,"/").concat(t,"/credits")).then(({cast:e})=>Ne(e.slice(0,7)))}function Ln({type:n,id:t}){let e=n==="movie"?{rtCrit:86,rtFan:92}:{};return ye.get("/".concat(n,"/").concat(t)).then(r=>({backgroundImage:Re(r.backdrop_path,"original"),heroContent:{title:r.title||r.name,description:r.overview,badges:["HD"],metaText:n==="movie"?ii(r.runtime)+" - "+r.release_date:"".concat(en(r.first_air_date)," - ").concat(en(r.last_air_date)),reviews:e},...r}))}const tn=()=>{const n=Et(),[t,e]=M(0),[r,o]=M();fe(r,Ln);const[i,s]=M({}),c=Ee(),h=Kn(()=>0),f=O(()=>Go(Vo(n.filter||"all")));ee(se(Ue,u=>{u.backdrop&&be(u.backdrop),u.heroContent&&s(u.heroContent)},{defer:!0}));function a(){var w;(w=this.children.selected)==null||w.setFocus(),e((this.y||0)*-1+24);let u=f().pages().length;(u===0||this.parent.selected&&this.parent.selected>=u-2)&&f().setPage(T=>T+1)}function x(){let u=this.children.selected;N(u&&u.href),c(u.href)}return l(ie,{get when(){return f().pages().length},get children(){return[l(Fn,j({y:360,x:150},i)),l(k,{clipping:!0,get style(){return W.itemsContainer},get children(){return l(G,{plinko:!0,announce:"All Trending - Week",animate:!0,get y(){return t()},get style(){return W.Column},get children(){return l(Rt,{get each(){return f().pages()},children:(u,w)=>l(Ke,{get autofocus(){return h(w())},items:u,onFocus:a,onEnter:x})})}})}})]}})},ci=()=>[l(P,{autofocus:!0,get style(){return W.headlineText},children:"Learn more about Solid + Lightning through other pages:"}),l(P,{get style(){return W.headlineSubText},children:"Press B for buttons, T for Text pages, M for Browse, F for Flex, C for Column Flex"})],ai=()=>{const n={width:900,height:500,y:350,x:150,gap:25,display:"flex",flexDirection:"column",justifyContent:"flexStart",color:E("00000000")},t={width:900,height:36,gap:6,display:"flex",flexDirection:"row",justifyContent:"flexStart",color:E("00000000")},e={fontSize:42},r={width:n.width,fontSize:26,contain:"width"},o={fontSize:26};return bt(()=>{be("#000000")}),l(k,{autofocus:!0,style:n,get children(){return[l(P,{style:e,children:"Title of the Page"}),l(P,{style:r,children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer vel tempor tellus. Sed eu leo purus. Vestibulum sollicitudin eget tellus a varius. Phasellus est turpis, volutpat sed blandit sit amet, rutrum sit amet mauris. In dignissim elit orci, a sollicitudin ipsum faucibus et. Quisque vel quam rutrum, faucibus augue sed, scelerisque nunc."}),l(k,{style:t,get children(){return[l(P,{style:o,children:"Subline Text"}),l(k,{width:28,height:28,src:"/assets/rt-popcorn.png"}),l(P,{style:o,children:"More Text"})]}})]}})},ui=()=>{function n(o,i){this.states.toggle("disabled")}const t={display:"flex",justifyContent:"flexStart",width:1500,height:300,color:E("00000000"),gap:26,y:400};function e(o){return l(k,j(o,{forwardStates:!0,animate:!0,get style(){return Zt.container},get children(){return l(P,{get style(){return Zt.text},get children(){return o.children}})}}))}const r=o=>(()=>{const i=he("node");return Nt(withPadding,i,()=>[10,15]),we(i,j(o,{get style(){return{color:E("#000000be"),borderRadius:8,border:{width:2,color:E("#ffffff")}}}}),!0),Ie(i,l(P,{style:{fontSize:20},get children(){return o.children}})),i})();return[l(V,{x:100,y:200,gap:5,style:t,get children(){return[l(r,{children:"HD"}),l(r,{children:"PG13"}),l(r,{children:"NC17"}),l(P,{fontSize:30,children:"I like bananas"}),l(r,{children:"DOLBY"})]}}),l(V,{x:100,gap:40,style:t,get children(){return[l(e,{autofocus:!0,onEnter:n,children:"TV Shows"}),l(e,{states:{active:!0,disabled:!1},children:"Movies"}),l(e,{states:"active",children:"Sports"}),l(e,{states:"disabled",children:"News"})]}})]},hi=()=>{const n={display:"flex",justifyContent:"flexStart",width:1600,height:110,color:E("#4dabf5")},t={fontSize:44,marginTop:25,marginBottom:-20,skipFocus:!0};function e(c){return l(k,j(c,{style:{width:200,height:100,y:5,color:392801023}}))}const[r,o]=M(50);function i(){var c;(c=this.children.selected)==null||c.setFocus(),o(150+(this.y||0)*-1)}bt(()=>{be("#333333")});const s=50;return l(G,{x:160,get y(){return r()},animate:!0,gap:30,height:850,get width(){return n.width},get style(){return W.Column},get children(){return[l(P,{style:t,children:"Flex Start"}),l(V,{gap:s,style:n,onFocus:i,get children(){return[l(e,{autofocus:!0}),l(e,{}),l(e,{}),l(e,{}),l(e,{})]}}),l(P,{style:t,children:"Flex Start - Margin Left"}),l(V,{gap:s,style:n,onFocus:i,get children(){return[l(e,{marginLeft:100}),l(e,{}),l(e,{marginLeft:100}),l(e,{}),l(e,{})]}}),l(P,{style:t,children:"Flex End"}),l(V,{gap:s,justifyContent:"flexEnd",style:n,onFocus:i,get children(){return[l(e,{}),l(e,{}),l(e,{}),l(e,{}),l(e,{})]}}),l(P,{style:t,children:"Flex End - Margin Right"}),l(V,{gap:s,justifyContent:"flexEnd",style:n,onFocus:i,get children(){return[l(e,{}),l(e,{marginRight:100}),l(e,{}),l(e,{}),l(e,{marginRight:100})]}}),l(P,{style:t,children:"Center - No Margin Support"}),l(V,{gap:s,justifyContent:"center",style:n,onFocus:i,get children(){return[l(e,{}),l(e,{}),l(e,{}),l(e,{}),l(e,{})]}}),l(P,{style:t,children:"Space Between - No Margin Support"}),l(V,{gap:s,justifyContent:"spaceBetween",style:n,onFocus:i,get children(){return[l(e,{}),l(e,{}),l(e,{}),l(e,{}),l(e,{})]}}),l(P,{style:t,children:"Space Evenly - No Margin Support"}),l(V,{gap:s,justifyContent:"spaceEvenly",style:n,onFocus:i,get children(){return[l(e,{}),l(e,{}),l(e,{}),l(e,{}),l(e,{})]}})]}})},di=()=>{const n={display:"flex",justifyContent:"spaceEvenly",width:1920,y:100,height:880,color:E("00000000")},t={display:"flex",flexDirection:"column",justifyContent:"flexStart",color:E("#4dabf5"),height:850,width:60},e={fontSize:44,y:20,x:150};function r(h){const f={width:50,height:80,x:5,color:E("#1769aa")};return l(k,j(h,{style:f}))}const[o,i]=M(50);function s(){var h;(h=this.children.selected)==null||h.setFocus(),i(150+(this.y||0)*-1)}bt(()=>{be("#333333")});const c=50;return[l(P,{style:e,children:"Start, MarginTop, End, MarginBottom, Center, Between, Evenly"}),l(V,{gap:c,style:n,onFocus:s,get children(){return[l(G,{gap:30,style:t,get children(){return[l(r,{autofocus:!0}),l(r,{}),l(r,{}),l(r,{}),l(r,{})]}}),l(G,{gap:c,style:t,onFocus:s,get children(){return[l(r,{marginTop:100}),l(r,{}),l(r,{marginTop:100}),l(r,{}),l(r,{})]}}),l(G,{gap:c,justifyContent:"flexEnd",style:t,onFocus:s,get children(){return[l(r,{}),l(r,{}),l(r,{}),l(r,{}),l(r,{})]}}),l(G,{gap:c,justifyContent:"flexEnd",style:t,onFocus:s,get children(){return[l(r,{}),l(r,{marginBottom:100}),l(r,{}),l(r,{}),l(r,{marginBottom:100})]}}),l(G,{gap:c,justifyContent:"center",style:t,onFocus:s,get children(){return[l(r,{}),l(r,{}),l(r,{}),l(r,{}),l(r,{})]}}),l(G,{gap:c,justifyContent:"spaceBetween",style:t,onFocus:s,get children(){return[l(r,{}),l(r,{}),l(r,{}),l(r,{}),l(r,{})]}}),l(G,{gap:c,justifyContent:"spaceEvenly",style:t,onFocus:s,get children(){return[l(r,{}),l(r,{}),l(r,{}),l(r,{}),l(r,{})]}})]}})]},fi=()=>{function n(i,s){this.states.toggle("disabled")}const t={display:"flex",justifyContent:"flexStart",width:1500,height:300,color:E("00000000"),gap:26,y:400,x:100},e={width:386,height:136,color:"#715cab",focus:{color:"#5a39a2"},disabled:{color:"#291d43"}},r=["RoundedRectangle",{radius:65}];function o(i){return l(k,j(i,{forwardStates:!0,animate:!0,style:e,shader:r,get children(){return l(P,{style:Oo,get children(){return i.children}})}}))}return l(V,{style:t,get children(){return[l(o,{autofocus:!0,onEnter:n,children:"Focused"}),l(o,{states:{active:!0,disabled:!1},children:"Normal"}),l(o,{states:"disabled",children:"Disabled"})]}})},gi=()=>{const n=Et(),t=Ee(),[e]=fe(()=>({...n}),Ln),[r]=fe(()=>({...n}),li),[o]=fe(()=>({...n}),si);ee(se(e,u=>{be(u.backgroundImage)},{defer:!0}));const i=600,s={color:E("#000000"),alpha:0,width:1900,height:890,x:10,y:i,borderRadius:30};function c(){var u;(u=this.children.selected)==null||u.setFocus(),a.y=i,x.y=i,x.alpha=0}function h(){var u;(u=this.children.selected)==null||u.setFocus(),a.y=200,x.y=160,x.alpha=.9}function f(){let u=this.children.selected;N(u&&u.href),t(u.href)}let a,x;return l(ie,{get when(){return e()},keyed:!0,get children(){return[l(Fn,j({y:360,x:150},()=>e().heroContent)),l(G,{animate:!0,ref(u){const w=a;typeof w=="function"?w(u):a=u},y:i,x:140,get style(){return W.Column},get children(){return l(ie,{get when(){return vn(()=>!!o())()&&r()},get children(){return[l(P,{skipFocus:!0,get style(){return W.RowTitle},children:"Recommendations"}),l(Ke,{autofocus:!0,onFocus:c,onEnter:f,get items(){return o()}}),l(P,{skipFocus:!0,get style(){return W.RowTitle},children:"Cast and Crew"}),l(Ke,{onFocus:h,onEnter:f,get items(){return r()}})]}})}}),l(k,{ref(u){const w=x;typeof w=="function"?w(u):x=u},animate:!0,style:s})]}})};function yi({id:n}){return ye.get("/person/".concat(n,"/combined_credits")).then(({cast:t})=>Ne(t.slice(0,7)))}function mi({id:n}){return ye.get("/person/".concat(n)).then(t=>({backgroundImage:Re(t.profile_path,"original"),heroContent:{title:t.title||t.name,description:t.biography},...t}))}const xi=()=>{const n=Et(),t=Ee(),[e]=fe(()=>({...n}),mi),[r]=fe(()=>({...n}),yi);ee(se(e,s=>{be(s.backgroundImage)},{defer:!0}));const o={color:E("#000000"),alpha:.8,width:1540,height:440,x:130,y:180,borderRadius:30};function i(){let s=this.children.selected;N(s&&s.href),t(s.href)}return l(ie,{get when(){return e()},keyed:!0,get children(){return[l(k,{x:150,y:200,get style(){return W.Column},zIndex:3,get children(){return[l(P,{get style(){return z.typography.display2},get children(){return e().name}}),l(P,{get style(){return W.peopleBio},get children(){return e().biography}})]}}),l(k,{style:o}),l(G,{y:670,x:140,get style(){return W.Column},get children(){return l(ie,{get when(){return r()},get children(){return[l(P,{skipFocus:!0,get style(){return W.RowTitle},children:"Credits"}),l(Ke,{autofocus:!0,onEnter:i,get items(){return r()}})]}})}})]}})},pi=()=>(()=>{const n=he("node");return ae(n,"style",{width:1920,height:1080,color:868483072}),n})();function wi(){let n,t,e=0;const r=1,o={alpha:r,color:4294967295},i={duration:1e3,easing:"ease-in-out"};return ee(se(Do,s=>{if(s.startsWith("#")){n.color=s,n.src="",n.alpha=1,e=1,t.alpha=0;return}else n.color=4294967295;if(e===0){n.src=s,e=1;return}if(e===1){t.src=s,e=2,t.alpha=[r],n.alpha=[0];return}e===2&&(n.src=s,e=1,n.alpha=r,t.alpha=0)},{defer:!0})),l(k,{width:1920,height:1080,get children(){return[l(k,{ref(s){const c=n;typeof c=="function"?c(s):n=s},animate:!0,animationSettings:i,style:o}),l(k,{ref(s){const c=t;typeof c=="function"?c(s):t=s},animate:!0,animationSettings:i,style:o,alpha:0}),l(k,{effects:{radialGradient:{colors:[124,124,862362111],stops:[0,.4,.9],height:800,width:1920,pivot:[.8,0]}}})]}})}const wt={Column:{...z.flexColumn,width:320,height:600,y:360,gap:20,zIndex:101,x:[8,{duration:250,easing:"ease-in-out"}],focus:{x:[z.layout.marginX,{duration:250,easing:"ease-in-out"}]}},Gradient:{zIndex:99,linearGradient:{angle:jr(270),stops:[0,.4,.8],colors:[E(z.color.primary),E(z.color.primary),E("#00000000")]},alpha:[0],focus:{width:1600,alpha:[1]},width:100,height:1080},NavButton:{zIndex:102,height:70,width:100,borderRadius:8,focus:{color:E(z.color.container)},active:{width:328,height:70}}},bi="/solid-demo-app/",Ti=[{name:"experiment",width:81,height:100,x:0,y:0},{name:"trending",width:100,height:56,x:81,y:0},{name:"tv",width:100,height:68,x:181,y:0},{name:"movie",width:94,height:100,x:281,y:0}];function vi(n){const t=Eo(bi+"assets/icons_white.png",Ti);return l(k,j(n,{get texture(){return t[n.name]},get width(){return t[n.name].props.width},get height(){return t[n.name].props.height},get x(){return(100-(t[n.name].props.width||0))/2},get y(){return(100-(t[n.name].props.height||0))/2}}))}function Me(n){return l(k,j(n,{forwardStates:!0,get style(){return wt.NavButton},get children(){return[l(k,{y:-16,get children(){return l(vi,{scale:.5,get name(){return n.icon}})}}),l(P,{get style(){return{...z.typography.button1,fontSize:38,x:116,y:16,height:50,alpha:0,active:{alpha:1}}},get children(){return n.children}})]}}))}function Si(n){let t;const e=Ee();function r(){t.states.add("focus"),this.children.forEach(i=>i.states.add("active")),this.children.selected.setFocus()}function o(){t.states.remove("focus"),this.selected=0,this.children.forEach(i=>i.states.remove("active"))}return[l(G,j(n,{onFocus:r,onBlur:o,get style(){return wt.Column},animate:!0,get children(){return[l(Me,{onEnter:()=>e("/browse/all"),icon:"trending",children:"Trending"}),l(Me,{icon:"movie",onEnter:()=>e("/browse/movie"),children:"Movies"}),l(Me,{icon:"tv",onEnter:()=>e("/browse/tv"),children:"TV"}),l(Me,{icon:"experiment",onEnter:()=>e("/examples"),children:"Examples"})]}})),l(k,{ref(i){const s=t;typeof s=="function"?s(i):t=i},get style(){return wt.Gradient}})]}const _i=()=>{bo({Menu:"m",Flex:"f",FlexColumn:"c",Text:"t",Buttons:"b"}),Io();const n=Ee();let t,e,r;return ee(se(Ue,o=>{N(o),setTimeout(()=>{o.heroContent?(t.parent=o,t.alpha=1,t.width=o.width+10,t.height=o.height+10,t.zIndex=o.zIndex-1e-8):t.alpha=0},10)},{defer:!0})),l(k,{ref(o){const i=window.APP;typeof i=="function"?i(o):window.APP=o},onLast:()=>history.back(),onText:()=>n("/text"),onFlex:()=>n("/flex"),onFlexColumn:()=>n("/flexcolumn"),onButtons:()=>n("/buttons"),onMenu:()=>n("/"),style:{width:1920,height:1080},onLeft:()=>{if(e.states.has("focus"))return!1;r=Ue(),e.setFocus()},onRight:()=>e.states.has("focus")&&r.setFocus(),get children(){return[l(wi,{}),l(Yo,{get color(){return E(z.color.primary)},ref(o){const i=t;typeof i=="function"?i(o):t=o}}),l(ho,{get children(){return l(K,{get path(){return"/solid-demo-app/"},get children(){return[l(K,{path:"",component:tn}),l(K,{path:"examples",component:ci}),l(K,{path:"browse/:filter",component:tn}),l(K,{path:"text",component:ai}),l(K,{path:"buttons",component:ui}),l(K,{path:"flex",component:hi}),l(K,{path:"flexcolumn",component:di}),l(K,{path:"buttonsmaterial",component:fi}),l(K,{path:"entity/people/:id",component:xi}),l(K,{path:"entity/:type/:id",component:gi}),l(K,{path:"*all",component:pi})]}})}}),l(Si,{ref(o){const i=e;typeof i=="function"?i(o):e=o}})]}})},Ri=new URL("AppCoreExtensions-4dc27172.js",import.meta.url).href;xe.debug=!1;xe.fontSettings.fontFamily="Ubuntu";xe.fontSettings.color=E("#ffffff");xe.fontSettings.fontSize=100;Or(()=>l(Pr,{options:{coreExtensionModule:Ri,threadXCoreWorkerUrl:void 0},get children(){return l(uo,{get children(){return l(_i,{})}})}}));export{Ni as __vite_legacy_guard};
//# sourceMappingURL=index-6087afa2.js.map
