System.register(["./CoreExtension-legacy-ac715ad4.js","./TextNodeStruct-legacy-4e399b28.js"],(function(e,t){"use strict";var n,r,o,i,s,l,c,a,h,u,d,f,p;return{setters:[e=>{n=e.a,r=e.E},e=>{o=e.C,i=e.a,s=e.b,l=e.c,c=e.S,a=e.l,h=e.d,u=e.T,d=e.B,f=e.N,p=e.e}],execute:function(){const e=(e,t)=>e===t,g=Symbol("solid-proxy"),y=Symbol("solid-track"),m={equals:e};let x=J;const v=1,w=2,b={owned:null,cleanups:null,context:null,owner:null},T={};var N=null;let S,_=null,C=null,R=null,F=null,P=0;function A(e,t){const n=C,r=N,o=0===e.length,i=void 0===t?r:t,s=o?b:{owned:null,cleanups:null,context:i?i.context:null,owner:i},l=o?e:()=>e((()=>M((()=>te(s)))));N=s,C=null;try{return K(l,!0)}finally{C=n,N=r}}function L(e,t){const n={value:e,observers:null,observerSlots:null,comparator:(t=t?Object.assign({},m,t):m).equals||void 0};return[U.bind(n),e=>("function"==typeof e&&(e=e(n.value)),H(n,e))]}function k(e,t,n){q(G(e,t,!0,v))}function z(e,t,n){q(G(e,t,!1,v))}function E(e,t,n){x=Z;const r=G(e,t,!1,v);n&&n.render||(r.user=!0),F?F.push(r):q(r)}function I(e,t,n){n=n?Object.assign({},m,n):m;const r=G(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,q(r),U.bind(r)}function B(e,t,n){let r,o,i;2===arguments.length&&"object"==typeof t||1===arguments.length?(r=!0,o=e,i=t||{}):(r=e,o=t,i=n||{});let s=null,l=T,c=!1,a="initialValue"in i,h="function"==typeof r&&I(r);const u=new Set,[d,f]=(i.storage||L)(i.initialValue),[p,g]=L(void 0),[y,m]=L(void 0,{equals:!1}),[x,v]=L(a?"ready":"unresolved");function w(e,t,n,r){return s===e&&(s=null,void 0!==r&&(a=!0),e!==l&&t!==l||!i.onHydrated||queueMicrotask((()=>i.onHydrated(r,{value:t}))),l=T,function(e,t){K((()=>{void 0===t&&f((()=>e)),v(void 0!==t?"errored":a?"ready":"unresolved"),g(t);for(const e of u.keys())e.decrement();u.clear()}),!1)}(t,n)),t}function b(){const e=S,t=d(),n=p();if(void 0!==n&&!s)throw n;return C&&!C.user&&e&&k((()=>{y(),s&&(e.resolved||u.has(e)||(e.increment(),u.add(e)))})),t}function N(e=!0){if(!1!==e&&c)return;c=!1;const t=h?h():r;if(null==t||!1===t)return void w(s,M(d));const n=l!==T?l:M((()=>o(t,{value:d(),refetching:e})));return(i=n)&&"object"==typeof i&&"then"in i?"value"in n?("success"===n.status?w(s,n.value,void 0,t):w(s,void 0,void 0,t),n):(s=n,c=!0,queueMicrotask((()=>c=!1)),K((()=>{v(a?"refreshing":"pending"),m()}),!1),n.then((e=>w(n,e,void 0,t)),(e=>w(n,void 0,ne(e),t)))):(w(s,n,void 0,t),n);var i}return Object.defineProperties(b,{state:{get:()=>x()},error:{get:()=>p()},loading:{get(){const e=x();return"pending"===e||"refreshing"===e}},latest:{get(){if(!a)return b();const e=p();if(e&&!s)throw e;return d()}}}),h?k((()=>N(!1))):N(!1),[b,{refetch:N,mutate:f}]}function M(e){if(null===C)return e();const t=C;C=null;try{return e()}finally{C=t}}function O(e,t,n){const r=Array.isArray(e);let o,i=n&&n.defer;return n=>{let s;if(r){s=Array(e.length);for(let t=0;t<e.length;t++)s[t]=e[t]()}else s=e();if(i)return void(i=!1);const l=M((()=>t(s,o,n)));return o=s,l}}function j(e){E((()=>M(e)))}function Y(e){return null===N||(null===N.cleanups?N.cleanups=[e]:N.cleanups.push(e)),e}function D(){return N}function X(e,t){const n=Symbol("context");return{id:n,Provider:ie(n),defaultValue:e}}function $(e){return N&&N.context&&void 0!==N.context[e.id]?N.context[e.id]:e.defaultValue}function W(e){const t=I(e),n=I((()=>oe(t())));return n.toArray=()=>{const e=n();return Array.isArray(e)?e:null!=e?[e]:[]},n}function U(){if(this.sources&&this.state)if(this.state===v)q(this);else{const e=R;R=null,K((()=>Q(this)),!1),R=e}if(C){const e=this.observers?this.observers.length:0;C.sources?(C.sources.push(this),C.sourceSlots.push(e)):(C.sources=[this],C.sourceSlots=[e]),this.observers?(this.observers.push(C),this.observerSlots.push(C.sources.length-1)):(this.observers=[C],this.observerSlots=[C.sources.length-1])}return this.value}function H(e,t,n){let r=e.value;return e.comparator&&e.comparator(r,t)||(e.value=t,e.observers&&e.observers.length&&K((()=>{for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t],r=_&&_.running;r&&_.disposed.has(n),(r?n.tState:n.state)||(n.pure?R.push(n):F.push(n),n.observers&&ee(n)),r||(n.state=v)}if(R.length>1e6)throw R=[],new Error}),!1)),t}function q(e){if(!e.fn)return;te(e);const t=N,n=C,r=P;C=N=e,function(e,t,n){let r;try{r=e.fn(t)}catch(o){return e.pure&&(e.state=v,e.owned&&e.owned.forEach(te),e.owned=null),e.updatedAt=n+1,re(o)}(!e.updatedAt||e.updatedAt<=n)&&(null!=e.updatedAt&&"observers"in e?H(e,r):e.value=r,e.updatedAt=n)}(e,e.value,r),C=n,N=t}function G(e,t,n,r=v,o){const i={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:N,context:N?N.context:null,pure:n};return null===N||N!==b&&(N.owned?N.owned.push(i):N.owned=[i]),i}function V(e){if(0===e.state)return;if(e.state===w)return Q(e);if(e.suspense&&M(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<P);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if((e=t[n]).state===v)q(e);else if(e.state===w){const n=R;R=null,K((()=>Q(e,t[0])),!1),R=n}}function K(e,t){if(R)return e();let n=!1;t||(R=[]),F?n=!0:F=[],P++;try{const t=e();return function(e){if(R&&(J(R),R=null),e)return;const t=F;F=null,t.length&&K((()=>x(t)),!1)}(n),t}catch(r){n||(F=null),R=null,re(r)}}function J(e){for(let t=0;t<e.length;t++)V(e[t])}function Z(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:V(r)}for(t=0;t<n;t++)V(e[t])}function Q(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const e=r.state;e===v?r!==t&&(!r.updatedAt||r.updatedAt<P)&&V(r):e===w&&Q(r,t)}}}function ee(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=w,n.pure?R.push(n):F.push(n),n.observers&&ee(n))}}function te(e){let t;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),n=e.sourceSlots.pop(),r=t.observers;if(r&&r.length){const e=r.pop(),o=t.observerSlots.pop();n<r.length&&(e.sourceSlots[o]=n,r[n]=e,t.observerSlots[n]=o)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)te(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function ne(e){return e instanceof Error?e:new Error("string"==typeof e?e:"Unknown error",{cause:e})}function re(e,t=N){throw ne(e)}function oe(e){if("function"==typeof e&&!e.length)return oe(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=oe(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function ie(e,t){return function(t){let n;return z((()=>n=M((()=>(N.context={...N.context,[e]:t.value},W((()=>t.children)))))),void 0),n}}const se=Symbol("fallback");function le(e){for(let t=0;t<e.length;t++)e[t]()}function ce(e,t){return M((()=>e(t||{})))}function ae(){return!0}const he={get:(e,t,n)=>t===g?n:e.get(t),has:(e,t)=>t===g||e.has(t),set:ae,deleteProperty:ae,getOwnPropertyDescriptor:(e,t)=>({configurable:!0,enumerable:!0,get:()=>e.get(t),set:ae,deleteProperty:ae}),ownKeys:e=>e.keys()};function ue(e){return(e="function"==typeof e?e():e)?e:{}}function de(){for(let e=0,t=this.length;e<t;++e){const t=this[e]();if(void 0!==t)return t}}function fe(...e){let t=!1;for(let i=0;i<e.length;i++){const n=e[i];t=t||!!n&&g in n,e[i]="function"==typeof n?(t=!0,I(n)):n}if(t)return new Proxy({get(t){for(let n=e.length-1;n>=0;n--){const r=ue(e[n])[t];if(void 0!==r)return r}},has(t){for(let n=e.length-1;n>=0;n--)if(t in ue(e[n]))return!0;return!1},keys(){const t=[];for(let n=0;n<e.length;n++)t.push(...Object.keys(ue(e[n])));return[...new Set(t)]}},he);const n={},r={},o=new Set;for(let i=e.length-1;i>=0;i--){const t=e[i];if(!t)continue;const s=Object.getOwnPropertyNames(t);for(let e=0,i=s.length;e<i;e++){const i=s[e];if("__proto__"===i||"constructor"===i)continue;const l=Object.getOwnPropertyDescriptor(t,i);if(o.has(i)){const e=r[i];e?l.get?e.push(l.get.bind(t)):void 0!==l.value&&e.push((()=>l.value)):void 0===n[i]&&(n[i]=l.value)}else l.get?(o.add(i),Object.defineProperty(n,i,{enumerable:!0,configurable:!0,get:de.bind(r[i]=[l.get.bind(t)])})):(void 0!==l.value&&o.add(i),n[i]=l.value)}}return n}const pe=e=>`Stale read from <${e}>.`;function ge(e){const t="fallback"in e&&{fallback:()=>e.fallback};return I(function(e,t,n={}){let r=[],o=[],i=[],s=0,l=t.length>1?[]:null;return Y((()=>le(i))),()=>{let c,a,h=e()||[];return h[y],M((()=>{let e,t,d,f,p,g,y,m,x,v=h.length;if(0===v)0!==s&&(le(i),i=[],r=[],o=[],s=0,l&&(l=[])),n.fallback&&(r=[se],o[0]=A((e=>(i[0]=e,n.fallback()))),s=1);else if(0===s){for(o=new Array(v),a=0;a<v;a++)r[a]=h[a],o[a]=A(u);s=v}else{for(d=new Array(v),f=new Array(v),l&&(p=new Array(v)),g=0,y=Math.min(s,v);g<y&&r[g]===h[g];g++);for(y=s-1,m=v-1;y>=g&&m>=g&&r[y]===h[m];y--,m--)d[m]=o[y],f[m]=i[y],l&&(p[m]=l[y]);for(e=new Map,t=new Array(m+1),a=m;a>=g;a--)x=h[a],c=e.get(x),t[a]=void 0===c?-1:c,e.set(x,a);for(c=g;c<=y;c++)x=r[c],a=e.get(x),void 0!==a&&-1!==a?(d[a]=o[c],f[a]=i[c],l&&(p[a]=l[c]),a=t[a],e.set(x,a)):i[c]();for(a=g;a<v;a++)a in d?(o[a]=d[a],i[a]=f[a],l&&(l[a]=p[a],l[a](a))):o[a]=A(u);o=o.slice(0,s=v),r=h.slice(0)}return o}));function u(e){if(i[a]=e,l){const[e,n]=L(a);return l[a]=n,t(h[a],e)}return t(h[a])}}}((()=>e.each),e.children,t||void 0))}function ye(e){const t=e.keyed,n=I((()=>e.when),void 0,{equals:(e,n)=>t?e===n:!e==!n});return I((()=>{const r=n();if(r){const o=e.children;return"function"==typeof o&&o.length>0?M((()=>o(t?r:()=>{if(!M(n))throw pe("Show");return e.when}))):o}return e.fallback}),void 0,void 0)}const[me,xe]=L(null);function ve(e){return(()=>{const t=lt("text");return ut(t,e,!1),t})()}function we(e){return(()=>{const t=lt("node");return ut(t,e,!1),t})()}class be{releaseCallback;constructor(e){this.releaseCallback=e}}class Te extends be{textureMap=new Map;zeroReferenceTextureSet=new Set;options;constructor(e,t){super(e),this.options={textureCleanupIntervalMs:t.textureCleanupIntervalMs??1e4,textureCleanupAgeThreadholdMs:t.textureCleanupAgeThreadholdMs??6e4},setInterval((()=>{const e=Date.now(),t=this.options.textureCleanupAgeThreadholdMs;for(const n of this.zeroReferenceTextureSet)e-n.lastUpdate>t&&(this.releaseCallback(n.id),this.textureMap.delete(n.id),this.zeroReferenceTextureSet.delete(n))}),this.options.textureCleanupIntervalMs)}registerTexture(e){const t=e.options?.id;if(n(t,"Texture must have an id to be registered"),!this.textureMap.has(t)){const e={id:t,nodeRefCount:0,lastUpdate:Date.now()};this.textureMap.set(t,e),this.zeroReferenceTextureSet.add(e)}}incrementTextureRefCount(e){const t=e.options?.id;n(t,"Texture must have an id to be registered");let r=this.textureMap.get(t);r||(this.registerTexture(e),r=this.textureMap.get(t)),n(r,"Texture must have been registered"),"SubTexture"===e.txType&&this.incrementTextureRefCount(e.props.texture),r.nodeRefCount++,r.lastUpdate=Date.now(),this.zeroReferenceTextureSet.has(r)&&this.zeroReferenceTextureSet.delete(r)}decrementTextureRefCount(e){const t=e.options?.id;n(t,"Texture must have an id to be registered");const r=this.textureMap.get(t);n(r,"Texture must have been registered"),r.nodeRefCount--,r.lastUpdate=Date.now(),0===r.nodeRefCount&&this.zeroReferenceTextureSet.add(r),"SubTexture"===e.txType&&this.decrementTextureRefCount(e.props.texture)}}class Ne extends be{registry;constructor(e){super(e),this.registry=new FinalizationRegistry(e)}registerTexture(e){n(e.options?.id,"Texture must have an ID to be registered"),this.registry.register(e,e.options?.id)}incrementTextureRefCount(){}decrementTextureRefCount(){}}class Se{root=null;driver;canvas;settings;nodes=new Map;nextTextureId=1;textureTracker;constructor(e,t,n){const r={appWidth:e.appWidth||1920,appHeight:e.appHeight||1080,deviceLogicalPixelRatio:e.deviceLogicalPixelRatio||1,devicePhysicalPixelRatio:e.devicePhysicalPixelRatio||window.devicePixelRatio,clearColor:e.clearColor??0,coreExtensionModule:e.coreExtensionModule||null,experimental_FinalizationRegistryTextureUsageTracker:e.experimental_FinalizationRegistryTextureUsageTracker??!1,textureCleanupOptions:e.textureCleanupOptions||{}};this.settings=r;const{appWidth:o,appHeight:i,deviceLogicalPixelRatio:s,devicePhysicalPixelRatio:l}=r,c=e=>{this.driver.releaseTexture(e)},a=r.experimental_FinalizationRegistryTextureUsageTracker&&"function"==typeof FinalizationRegistry;this.textureTracker=a?new Ne(c):new Te(c,this.settings.textureCleanupOptions);const h=o*s,u=i*s;this.driver=n;const d=document.createElement("canvas");let f;if(this.canvas=d,d.width=h*l,d.height=u*l,d.style.width=`${h}px`,d.style.height=`${u}px`,f="string"==typeof t?document.getElementById(t):t,!f)throw new Error("Could not find target element");n.onCreateNode=e=>{this.nodes.set(e.id,e)},n.onBeforeDestroyNode=e=>{this.nodes.delete(e.id)},f.appendChild(d)}async init(){await this.driver.init(this,this.settings,this.canvas),this.root=this.driver.getRootNode()}createNode(e){return this.driver.createNode(this.resolveNodeDefaults(e))}createTextNode(e){return this.driver.createTextNode({...this.resolveNodeDefaults(e),text:e.text??"",textRendererOverride:e.textRendererOverride??null,fontSize:e.fontSize??16,fontFamily:e.fontFamily??"sans-serif",fontStyle:e.fontStyle??"normal",fontWeight:e.fontWeight??"normal",fontStretch:e.fontStretch??"normal",textAlign:e.textAlign??"left",contain:e.contain??"none",scrollable:e.scrollable??!1,scrollY:e.scrollY??0,offsetY:e.offsetY??0,letterSpacing:e.letterSpacing??0,debug:e.debug??{}})}resolveNodeDefaults(e){const t=e.color??4294967295,n=e.colorTl??e.colorTop??e.colorLeft??t,r=e.colorTr??e.colorTop??e.colorRight??t,o=e.colorBl??e.colorBottom??e.colorLeft??t,i=e.colorBr??e.colorBottom??e.colorRight??t;return{x:e.x??0,y:e.y??0,width:e.width??0,height:e.height??0,alpha:e.alpha??1,clipping:e.clipping??!1,color:t,colorTop:e.colorTop??t,colorBottom:e.colorBottom??t,colorLeft:e.colorLeft??t,colorRight:e.colorRight??t,colorBl:o,colorBr:i,colorTl:n,colorTr:r,zIndex:e.zIndex??0,zIndexLocked:e.zIndexLocked??0,parent:e.parent??null,texture:e.texture??null,shader:e.shader??null,src:e.src??"",scale:e.scale??1,mount:e.mount??0,mountX:e.mountX??e.mount??0,mountY:e.mountY??e.mount??0,pivot:e.pivot??.5,pivotX:e.pivotX??e.pivot??.5,pivotY:e.pivotY??e.pivot??.5,rotation:e.rotation??0}}destroyNode(e){return this.driver.destroyNode(e)}createTexture(e,t,n){const r={descType:"texture",txType:e,props:t,options:{...n,id:this.nextTextureId++}};return this.textureTracker.registerTexture(r),r}createShader(e,t){return{descType:"shader",shType:e,props:t}}getNodeById(e){return this.nodes.get(e)||null}toggleFreeze(){throw new Error("Not implemented")}advanceFrame(){throw new Error("Not implemented")}rerender(){throw new Error("Not implemented")}}let _e,Ce,Re=1;function Fe(){return Re++}class Pe extends r{rendererMain;stage;id;coreNode;_children=[];_src="";_parent=null;_texture=null;_shader=null;constructor(e,t,n,r){super(),this.rendererMain=t,this.stage=n,this.id=r?.id??Fe(),this.coreNode=r||new o(this.stage,{id:this.id,x:e.x,y:e.y,width:e.width,height:e.height,alpha:e.alpha,clipping:e.clipping,color:e.color,colorTop:e.colorTop,colorBottom:e.colorBottom,colorLeft:e.colorLeft,colorRight:e.colorRight,colorTl:e.colorTl,colorTr:e.colorTr,colorBl:e.colorBl,colorBr:e.colorBr,zIndex:e.zIndex,zIndexLocked:e.zIndexLocked,scale:e.scale,mountX:e.mountX,mountY:e.mountY,mount:e.mount,pivot:e.pivot,pivotX:e.pivotX,pivotY:e.pivotY,rotation:e.rotation,parent:null,shader:null,shaderProps:null,texture:null,textureOptions:null}),this.coreNode.on("txLoaded",this.onTextureLoaded),this.coreNode.on("txFailed",this.onTextureFailed),this.parent=e.parent,this.shader=e.shader,this.texture=e.texture,this.src=e.src}get x(){return this.coreNode.x}set x(e){this.coreNode.x=e}get y(){return this.coreNode.y}set y(e){this.coreNode.y=e}get worldX(){return this.coreNode.worldX}get worldY(){return this.coreNode.worldY}get width(){return this.coreNode.width}set width(e){this.coreNode.width=e}get height(){return this.coreNode.height}set height(e){this.coreNode.height=e}get alpha(){return this.coreNode.alpha}set alpha(e){this.coreNode.alpha=e}get clipping(){return this.coreNode.clipping}set clipping(e){this.coreNode.clipping=e}get color(){return this.coreNode.color}set color(e){this.coreNode.color=e}get colorTop(){return this.coreNode.colorTop}set colorTop(e){this.coreNode.colorTop=e}get colorBottom(){return this.coreNode.colorBottom}set colorBottom(e){this.coreNode.colorBottom=e}get colorLeft(){return this.coreNode.colorLeft}set colorLeft(e){this.coreNode.colorLeft=e}get colorRight(){return this.coreNode.colorRight}set colorRight(e){this.coreNode.colorRight=e}get colorTl(){return this.coreNode.colorTl}set colorTl(e){this.coreNode.colorTl=e}get colorTr(){return this.coreNode.colorTr}set colorTr(e){this.coreNode.colorTr=e}get colorBl(){return this.coreNode.colorBl}set colorBl(e){this.coreNode.colorBl=e}get colorBr(){return this.coreNode.colorBr}set colorBr(e){this.coreNode.colorBr=e}get scale(){return this.coreNode.scale}set scale(e){this.coreNode.scale=e}get mount(){return this.coreNode.mount}set mount(e){this.coreNode.mount=e}get mountX(){return this.coreNode.mountX}set mountX(e){this.coreNode.mountX=e}get mountY(){return this.coreNode.mountY}set mountY(e){this.coreNode.mountY=e}get pivot(){return this.coreNode.pivot}set pivot(e){this.coreNode.pivot=e}get pivotX(){return this.coreNode.pivotX}set pivotX(e){this.coreNode.pivotX=e}get pivotY(){return this.coreNode.pivotY}set pivotY(e){this.coreNode.pivotY=e}get rotation(){return this.coreNode.rotation}set rotation(e){this.coreNode.rotation=e}get parent(){return this._parent}set parent(e){const t=this._parent;if(this._parent=e,this.coreNode.parent=e?.coreNode??null,t){const e=t.children.indexOf(this);n(-1!==e,"MainOnlyNode.parent: Node not found in old parent's children!"),t.children.splice(e,1)}e&&e.children.push(this)}get children(){return this._children}get zIndex(){return this.coreNode.zIndex}set zIndex(e){this.coreNode.zIndex=e}get zIndexLocked(){return this.coreNode.zIndexLocked}set zIndexLocked(e){this.coreNode.zIndexLocked=e}get src(){return this._src}set src(e){this._src!==e&&(this._src=e,this.texture=e?this.rendererMain.createTexture("ImageTexture",{src:e}):null)}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this.rendererMain.textureTracker.decrementTextureRefCount(this._texture),e&&this.rendererMain.textureTracker.incrementTextureRefCount(e),this._texture=e,e?this.coreNode.loadTexture(e.txType,e.props,e.options):this.coreNode.unloadTexture())}onTextureLoaded=(e,t)=>{this.emit("txLoaded",t)};onTextureFailed=(e,t)=>{this.emit("txFailed",t)};get shader(){return this._shader}set shader(e){this._shader!==e&&(this._shader=e,e&&this.coreNode.loadShader(e.shType,e.props))}destroy(){this.emit("beforeDestroy",{}),this.parent=null,this.texture=null,this.emit("afterDestroy",{}),this.removeAllListeners()}flush(){}animate(e,t){const n=new i(this.coreNode,e,t);return new s(this.stage.animationManager,n)}}class Ae extends Pe{constructor(e,t,n){super(e,t,n,new l(n,{id:Fe(),x:e.x,y:e.y,width:e.width,height:e.height,alpha:e.alpha,clipping:e.clipping,color:e.color,colorTop:e.colorTop,colorBottom:e.colorBottom,colorLeft:e.colorLeft,colorRight:e.colorRight,colorTl:e.colorTl,colorTr:e.colorTr,colorBl:e.colorBl,colorBr:e.colorBr,zIndex:e.zIndex,zIndexLocked:e.zIndexLocked,scale:e.scale,mountX:e.mountX,mountY:e.mountY,mount:e.mount,pivot:e.pivot,pivotX:e.pivotX,pivotY:e.pivotY,rotation:e.rotation,text:e.text,fontSize:e.fontSize,fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontStretch:e.fontStretch,fontStyle:e.fontStyle,contain:e.contain,scrollable:e.scrollable,letterSpacing:e.letterSpacing,textAlign:e.textAlign,scrollY:e.scrollY,offsetY:e.offsetY,textRendererOverride:e.textRendererOverride,debug:e.debug,parent:null,texture:null,textureOptions:null,shader:null,shaderProps:null})),this.coreNode.on("textLoaded",this.onTextLoaded),this.coreNode.on("textFailed",this.onTextFailed)}onTextLoaded=(e,t)=>{this.emit("textLoaded",t)};onTextFailed=(e,t)=>{this.emit("textFailed",t)};get text(){return this.coreNode.text}set text(e){this.coreNode.text=e}get textRendererOverride(){return this.coreNode.textRendererOverride}set textRendererOverride(e){this.coreNode.textRendererOverride=e}get fontSize(){return this.coreNode.fontSize}set fontSize(e){this.coreNode.fontSize=e}get fontFamily(){return this.coreNode.fontFamily}set fontFamily(e){this.coreNode.fontFamily=e}get fontWeight(){return this.coreNode.fontWeight}set fontWeight(e){this.coreNode.fontWeight=e}get fontStretch(){return this.coreNode.fontStretch}set fontStretch(e){this.coreNode.fontStretch=e}get fontStyle(){return this.coreNode.fontStyle}set fontStyle(e){this.coreNode.fontStyle=e}get textAlign(){return this.coreNode.textAlign}set textAlign(e){this.coreNode.textAlign=e}get contain(){return this.coreNode.contain}set contain(e){this.coreNode.contain=e}get scrollable(){return this.coreNode.scrollable}set scrollable(e){this.coreNode.scrollable=e}get scrollY(){return this.coreNode.scrollY}set scrollY(e){this.coreNode.scrollY=e}get offsetY(){return this.coreNode.offsetY}set offsetY(e){this.coreNode.offsetY=e}get letterSpacing(){return this.coreNode.letterSpacing}set letterSpacing(e){this.coreNode.letterSpacing=e}get debug(){return this.coreNode.debug}set debug(e){this.coreNode.debug=e}}class Le{root=null;stage=null;rendererMain=null;async init(e,t,r){this.stage=new c({rootId:1,appWidth:t.appWidth,appHeight:t.appHeight,deviceLogicalPixelRatio:t.deviceLogicalPixelRatio,devicePhysicalPixelRatio:t.devicePhysicalPixelRatio,clearColor:t.clearColor,canvas:r,debug:{monitorTextureCache:!1}}),this.rendererMain=e,n(this.stage.root);const o=new Pe(e.resolveNodeDefaults({}),this.rendererMain,this.stage,this.stage.root);this.root=o,o.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,o)),this.onCreateNode(o),t.coreExtensionModule&&await a(t.coreExtensionModule,this.stage)}createNode(e){n(this.rendererMain),n(this.stage);const t=new Pe(e,this.rendererMain,this.stage);return t.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,t)),this.onCreateNode(t),t}createTextNode(e){n(this.rendererMain),n(this.stage);const t=new Ae(e,this.rendererMain,this.stage);return t.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,t)),this.onCreateNode(t),t}destroyNode(e){e.destroy()}releaseTexture(e){const{stage:t}=this;n(t),t.txManager.removeTextureIdFromCache(e)}getRootNode(){return n(this.root),this.root}onCreateNode(e){throw new Error("Method not implemented.")}onBeforeDestroyNode(e){throw new Error("Method not implemented.")}}class ke{node;id;stoppedPromise=null;stoppedResolve=null;constructor(e,t){this.node=e,this.id=t,this.onAnimationFinished=this.onAnimationFinished.bind(this),this.state="stopped"}state;start(){return null===this.stoppedResolve&&(this.makeStoppedPromise(),this.node.on("animationFinished",this.onAnimationFinished)),this.state="running",this.node.emit("startAnimation",{id:this.id}),this}stop(){return this.node.emit("stopAnimation",{id:this.id}),this.node.off("animationFinished",this.onAnimationFinished),null!==this.stoppedResolve&&(this.stoppedResolve(),this.stoppedResolve=null),this.state="stopped",this}pause(){return this.node.emit("pauseAnimation",{id:this.id}),this.state="paused",this}restore(){return this}waitUntilStopped(){this.makeStoppedPromise();const e=this.stoppedPromise;return n(e),e}onAnimationFinished(e,{id:t,loop:n}){t===this.id&&(this.node.off("animationFinished",this.onAnimationFinished),this.stoppedResolve?.(),this.stoppedResolve=null,this.state="stopped")}makeStoppedPromise(){null===this.stoppedResolve&&(this.stoppedPromise=new Promise((e=>{this.stoppedResolve=e})))}}class ze extends h{rendererMain;nextAnimationId=1;_parent=null;_children=[];_texture=null;_shader=null;_src="";animationRegistry=new FinalizationRegistry((e=>{this.emit("destroyAnimation",{id:e})}));constructor(e,t,n){super(t,n),this.rendererMain=e}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this.rendererMain.textureTracker.decrementTextureRefCount(this._texture),e&&this.rendererMain.textureTracker.incrementTextureRefCount(e),this._texture=e,e?this.emit("loadTexture",e):this.emit("unloadTexture",{}))}get shader(){return this._shader}set shader(e){this._shader!==e&&(this._shader=e,e&&this.emit("loadShader",e))}animate(e,t){const n=this.nextAnimationId++;this.emit("createAnimation",{id:n,props:e,settings:t});const r=new ke(this,n);return this.animationRegistry.register(r,n),r}get src(){return this._src}set src(e){this._src!==e&&(this._src=e,this.texture=e?this.rendererMain.createTexture("ImageTexture",{src:e}):null)}get parent(){return this._parent}set parent(e){const t=this._parent;if(this._parent=e,this.parentId=e?.id??0,t){const e=t.children.indexOf(this);n(-1!==e,"ThreadXMainNode.parent: Node not found in old parent's children!"),t.children.splice(e,1)}e&&e.children.push(this)}get children(){return this._children}get props(){return this.curProps}destroy(){super.destroy(),this.texture=null}}class Ee extends ze{_debug={};constructor(e,t){super(e,t,{text:t.text,textRendererOverride:t.textRendererOverride,fontSize:t.fontSize,fontFamily:t.fontFamily,fontStretch:t.fontStretch,fontStyle:t.fontStyle,fontWeight:t.fontWeight,contain:t.contain,letterSpacing:t.letterSpacing,offsetY:t.offsetY,scrollable:t.scrollable,scrollY:t.scrollY,textAlign:t.textAlign})}get debug(){return this._debug}set debug(e){this._debug!==e&&(this._debug=e,this.emit("debug",e))}}class Ie{settings;threadx;rendererMain=null;root=null;constructor(e){this.settings=e,this.threadx=u.init({workerId:1,workerName:"main",sharedObjectFactory:e=>{const t=d.extractTypeId(e),r=this.rendererMain;if(n(r),t===f.typeId){const t=new f(e);return t.lock((()=>new ze(r,t)))}if(t===p.typeId){const t=new p(e);return t.lock((()=>new Ee(r,t)))}return null}}),this.threadx.registerWorker("renderer",new Worker(this.settings.coreWorkerUrl,{type:"module"}))}async init(e,t,r){this.rendererMain=e;const o=r.transferControlToOffscreen(),i=await this.threadx.sendMessageAsync("renderer",{type:"init",canvas:o,appWidth:t.appWidth,appHeight:t.appHeight,deviceLogicalPixelRatio:t.deviceLogicalPixelRatio,devicePhysicalPixelRatio:t.devicePhysicalPixelRatio,clearColor:t.clearColor,coreExtensionModule:t.coreExtensionModule},[o]),s=this.threadx.getSharedObjectById(i);n(s instanceof ze,"Unexpected root node type"),this.root=s}getRootNode(){return n(this.root,"Driver not initialized"),this.root}createNode(e){const t=this.rendererMain;n(t);const r=new f;Object.assign(r,{x:e.x,y:e.y,width:e.width,height:e.height,parentId:e.parent?e.parent.id:0,clipping:e.clipping,color:e.color,colorTop:e.colorTop,colorRight:e.colorBottom,colorBottom:e.colorBottom,colorLeft:e.colorLeft,colorTl:e.colorTl,colorTr:e.colorTr,colorBl:e.colorBl,colorBr:e.colorBr,alpha:e.alpha,zIndex:e.zIndex,zIndexLocked:e.zIndexLocked,scale:e.scale,mount:e.mount,mountX:e.mountX,mountY:e.mountY,pivot:e.pivot,pivotX:e.pivotX,pivotY:e.pivotY,rotation:e.rotation});const o=new ze(t,r);return o.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,o)),this.threadx.shareObjects("renderer",[o]).catch(console.error),o.shader=e.shader??null,o.texture=e.texture??null,o.src=e.src??"",this.onCreateNode(o),o}createTextNode(e){const t=this.rendererMain;n(t);const r=new p;Object.assign(r,{x:e.x,y:e.y,width:e.width,height:e.height,parentId:e.parent?e.parent.id:0,clipping:e.clipping,color:e.color,colorTop:e.colorTop,colorRight:e.colorBottom,colorBottom:e.colorBottom,colorLeft:e.colorLeft,colorTl:e.colorTl,colorTr:e.colorTr,colorBl:e.colorBl,colorBr:e.colorBr,alpha:e.alpha,zIndex:e.zIndex,zIndexLocked:e.zIndexLocked,scale:e.scale,mount:e.mount,mountX:e.mountX,mountY:e.mountY,pivot:e.pivot,pivotX:e.pivotX,pivotY:e.pivotY,rotation:e.rotation,text:e.text,textRendererOverride:e.textRendererOverride,fontSize:e.fontSize,fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontStretch:e.fontStretch,fontStyle:e.fontStyle,contain:e.contain,letterSpacing:e.letterSpacing,offsetY:e.offsetY,textAlign:e.textAlign,scrollable:e.scrollable,scrollY:e.scrollY});const o=new Ee(t,r);return o.once("beforeDestroy",this.onBeforeDestroyNode.bind(this,o)),this.threadx.shareObjects("renderer",[o]).catch(console.error),o.shader=e.shader??null,o.texture=e.texture??null,o.src=e.src??"",o.debug=e.debug??{},this.onCreateNode(o),o}destroyNode(e){e.destroy()}releaseTexture(e){this.threadx.sendMessage("renderer",{type:"releaseTexture",textureDescId:e})}onCreateNode(e){}onBeforeDestroyNode(e){}}const Be={appWidth:1920,appHeight:1080,deviceLogicalPixelRatio:.6666667,devicePhysicalPixelRatio:1,rootId:"app",threadXCoreWorkerUrl:void 0};function Me(e={}){let t;const n={...Be,...e};return t=n.threadXCoreWorkerUrl?new Ie({coreWorkerUrl:n.threadXCoreWorkerUrl}):new Le,_e=new Se({appWidth:n.appWidth,appHeight:n.appHeight,deviceLogicalPixelRatio:n.deviceLogicalPixelRatio,devicePhysicalPixelRatio:n.devicePhysicalPixelRatio,clearColor:n.clearColor,coreExtensionModule:n.coreExtensionModule},n.rootId,t),Ce=_e.createShader.bind(_e),_e}class Oe extends Array{_parent;constructor(e){super(),this._parent=e}get selected(){return this[this._parent.selected||0]}get firstChild(){return this[0]}insert(e,t){if(t){const n=this.indexOf(t);this.splice(n,0,e)}else this.push(e);e.parent=this._parent,this._parent._isDirty=!0}remove(e){const t=this.indexOf(e);t>=0&&this.splice(t,1)}}const je={debug:!1,animationSettings:{duration:250,easing:"ease-in-out"},fontSettings:{fontFamily:"Ubuntu",fontSize:100}},Ye="development"===t.meta.env?.MODE;function De(e,t,...n){Ye&&(je.debug||"object"==typeof t&&t.debug)&&console.log(e,t,...n)}function Xe(e){return"function"==typeof e}function $e(e){return Array.isArray(e)}class We extends Array{_node;constructor(e,t=[]){return $e(t)?super(...t):"string"==typeof t?super(t):super(...Object.entries(t).filter((([e,t])=>t)).map((([e])=>e))),this._node=e,this}has(e){return this.indexOf(e)>=0}is(e){return this.indexOf(e)>=0}add(e){this.push(e),this._node._stateChanged()}toggle(e){this.has(e)?this.remove(e):this.add(e)}remove(e){const t=this.indexOf(e);t>=0&&(this.splice(t,1),this._node._stateChanged())}}const{animationSettings:Ue}=je;function He(e=""){return{set(t){"number"==typeof t&&(t={width:t,color:255}),this.effects={...this.effects||{},[`border${e}`]:t},this[`_border${e}`]=t},get(){return this[`_border${e}`]}}}const qe=["alpha","color","colorTop","colorRight","colorLeft","colorBottom","colorTl","colorTr","colorBl","colorBr","height","fontSize","lineHeight","mount","mountX","mountY","pivot","pivotX","pivotY","rotation","scale","width","worldX","worldY","x","y","zIndex","zIndexLocked"],Ge=["clipping","contain","fontFamily","src","text","textAlign","texture"];class Ve extends Object{name;lng=null;selected=null;rendered;_undoStates;_renderProps;_effects;_parent=null;_shader;_style;_states;_animationSettings;_updateLayoutOn;_width;_height;_color;_borderRadius;_border;_borderLeft;_borderRight;_borderTop;_borderBottom;_animate;_autosized;_isDirty;_dom;children;constructor(e){super(),this.name=e,this.rendered=!1,this.autofocus=!1,this._renderProps={x:0,y:0},this.children=new Oe(this);for(const t of qe)Object.defineProperty(this,t,{get(){return this[`_${t}`]||this.lng&&this.lng[t]},set(e){this[`_${t}`]=e,this._sendToLightningAnimatable(t,e)}});for(const t of Ge)Object.defineProperty(this,t,{get(){return this[`_${t}`]||this.lng&&this.lng[t]},set(e){this[`_${t}`]=e,this._sendToLightning(t,e)}});Object.defineProperties(this,{borderRadius:{set(e){this._borderRadius=e,this.effects={...this.effects||{},radius:{radius:e}}},get(){return this._borderRadius}},border:He(),borderLeft:He("Left"),borderRight:He("Right"),borderTop:He("Top"),borderBottom:He("Bottom")}),Object.defineProperties(this,{linearGradient:{set(e={}){this._linearGradient=e,this.effects={...this.effects||{},linearGradient:e}},get(){return this._linearGradient}}})}get effects(){return this._effects}set effects(e){this._effects=e,this.shader=function(e){const t=[];for(const[n,r]of Object.entries(e))t.push({type:n,props:r});return Ce("DynamicShader",{effects:t})}(e)}get parent(){return this._parent}set parent(e){this._parent=e,this.rendered&&this.lng&&(this.lng.parent=e?.lng??null)}get shader(){return this._shader}set shader(e){$e(e)?this._shader=Ce(...e):this._shader=e,this._sendToLightning("shader",this._shader)}_sendToLightningAnimatable(e,t){if(this.rendered&&this.lng){if($e(t))return this.createAnimation({[e]:t[0]},t[1]).start();if(this._animate)return this.createAnimation({[e]:t}).start();this.lng[e]=t}else $e(t)&&(t=t[0]),this._renderProps[e]=t}_sendToLightning(e,t){this.rendered&&this.lng?this.lng[e]=t:this._renderProps[e]=t}createAnimation(e,t){return n(this.lng,"Node must be rendered before animating"),this.lng.animate(e,t||this.animationSettings)}setFocus(){this.rendered?xe(this):this.autofocus=!0}isTextNode(){return"text"===this.name}_resizeOnTextLoad(){n(this.lng),this.lng.once("textLoaded",((e,t)=>{this.width=t.width,this.height=t.height,n(this.parent),this.parent.updateLayout(this,t)}))}getText(){return this.children.map((e=>e.text)).join("")}destroy(){this.lng&&_e.destroyNode(this.lng)}set style(e){for(let t in e)"animate"===t&&(t="_animate"),this[t]||(this[t]=e[t]);this._style=e}get style(){return this._style}get hasChildren(){return this.children.length>0}set states(e){this._states=new We(this,e),this.rendered&&this._stateChanged()}get states(){return this._states=this._states||new We(this),this._states}get animationSettings(){return this._animationSettings||Ue}set animationSettings(e){this._animationSettings=e}get updateLayoutOn(){return this._updateLayoutOn}set updateLayoutOn(e){this._updateLayoutOn=e,queueMicrotask((()=>this.updateLayout()))}_applyZIndexToChildren(){const e=this.zIndex;n(e);const t=e>=1&&parseInt(""+e)===e?".":"";this.children.forEach(((n,r)=>{(!n.zIndex||n.zIndex<1)&&(n.zIndex=parseFloat(`${e}${t}${r+1}`))}))}updateLayout(e,t){"flex"===this.display&&this.hasChildren&&(De("Layout: ",this),function(e){const t=e.children,r=e.flexDirection||"row",o="row"===r?"width":"height",i="row"===r?"marginLeft":"marginTop",s="row"===r?"marginRight":"marginBottom",l="row"===r?"x":"y",c=e[o]||0,a=t.reduce(((e,t)=>e+(t[o]||0)),0),h=e.gap||0,u=t.length,d=e.justifyContent||"flexStart";if("flexStart"===d){let e=0;t.forEach((t=>{t[l]=e+(t[i]||0),e+=(t[o]||0)+h+(t[i]||0)+(t[s]||0)}))}if("flexEnd"===d){let e=c;for(let r=u-1;r>=0;r--){const c=t[r];n(c),c[l]=e-(c[o]||0)-(c[s]||0),e-=(c[o]||0)+h+(c[i]||0)+(c[s]||0)}}if("center"===d){let e=(c-(a+h*(u-1)))/2;t.forEach((t=>{t[l]=e,e+=(t[o]||0)+h}))}if("spaceBetween"===d){const e=(c-a)/(u-1);let n=0;t.forEach((t=>{t[l]=n,n+=(t[o]||0)+e}))}if("spaceEvenly"===d){const e=(c-a)/(u+1);let n=e;t.forEach((t=>{t[l]=n,n+=(t[o]||0)+e}))}}(this)),Xe(this.onLayout)&&this.onLayout(e,t)}_stateChanged(){if(De("State Changed: ",this,this.states),this.forwardStates){const e=this.states.slice();this.children.forEach((t=>t.states=e))}if(this._undoStates||this.style&&function(e,t){for(const n of t)if(n in e)return!0;return!1}(this.style,this.states)){this._undoStates=this._undoStates||{};let e={};for(const[n,r]of Object.entries(this._undoStates))this.states.includes(n)||(e={...e,...r});const t=this.states.reduce(((e,t)=>{const r=this.style[t];return r&&(e={...e,...r},this._undoStates&&!this._undoStates[t]&&(this._undoStates[t]={},Object.keys(r).forEach((e=>{n(this._undoStates),this._undoStates[t][e]=this[e]})))),e}),{});Object.assign(this,{...e,...t})}}render(){const e=this,t=this.parent;t?._isDirty&&(t.updateLayout(),t._applyZIndexToChildren(),t._isDirty=!1),e.updateLayout(),this.states.length&&this._stateChanged();let r=e._renderProps;t?.lng&&(r.parent=t.lng),e.isTextNode()?(r={...je.fontSettings,...r,text:e.getText()},De("Rendering: ",this,r),e.lng=_e.createTextNode(r),Xe(e.onLoad)&&e.lng.once("textLoaded",e.onLoad),e.width&&e.height||(e._autosized=!0,e._resizeOnTextLoad())):(r.src||r.texture||(n(t),isNaN(r.width)&&(r.width=(t.width||0)-r.x,e._width=r.width),isNaN(r.height)&&(r.height=(t.height||0)-r.y,e._height=r.height),r.color||(e._color=r.color=0)),De("Rendering: ",this,r),e.hasChildren&&e._applyZIndexToChildren(),e.lng=_e.createNode(r),e.onLoad&&e.lng.once("txLoaded",e.onLoad)),e.rendered=!0,e.autofocus&&e.setFocus(),delete this._renderProps}}function Ke(e){"TextNode"!==e.name&&(n(e instanceof Ve),e.render(),e.children.forEach((e=>Ke(e))))}const Je=e=>{const t=Me(e.options),r=t.init();let o;return E((()=>{r.then((()=>{n(o),o.lng=t.root,o.children.forEach(Ke)})).catch(console.error)})),(()=>{const t=lt("canvas");return"function"==typeof o?pt(o,t):o=t,dt(t,"zIndex",.1),ht(t,(()=>e.children)),t})()};function Ze({createElement:e,createTextNode:t,isTextNode:n,replaceText:r,insertNode:o,removeNode:i,setProperty:s,getParentNode:l,getFirstChild:c,getNextSibling:a}){function h(e,t,n,r){if(void 0===n||r||(r=[]),"function"!=typeof t)return u(e,t,r,n);z((r=>u(e,t(),r,n)),r)}function u(e,i,s,l,a){for(;"function"==typeof s;)s=s();if(i===s)return s;const h=typeof i,m=void 0!==l;if("string"===h||"number"===h)if("number"===h&&(i=i.toString()),m){let o=s[0];o&&n(o)?r(o,i):o=t(i),s=p(e,s,l,o)}else""!==s&&"string"==typeof s?r(c(e),s=i):(p(e,s,l,t(i)),s=i);else if(null==i||"boolean"===h)s=p(e,s,l);else{if("function"===h)return z((()=>{let t=i();for(;"function"==typeof t;)t=t();s=u(e,t,s,l)})),()=>s;if(Array.isArray(i)){const t=[];if(d(t,i,a))return z((()=>s=u(e,t,s,l,!0))),()=>s;if(0===t.length){const t=p(e,s,l);if(m)return s=t}else Array.isArray(s)?0===s.length?g(e,t,l):f(e,s,t):null==s||""===s?g(e,t):f(e,m&&s||[c(e)],t);s=t}else{if(Array.isArray(s)){if(m)return s=p(e,s,l,i);p(e,s,null,i)}else null!=s&&""!==s&&c(e)?y(e,i,c(e)):o(e,i);s=i}}return s}function d(e,n,r){let o=!1;for(let i=0,s=n.length;i<s;i++){let s,l=n[i];if(null==l||!0===l||!1===l);else if(Array.isArray(l))o=d(e,l)||o;else if("string"==(s=typeof l)||"number"===s)e.push(t(l));else if("function"===s)if(r){for(;"function"==typeof l;)l=l();o=d(e,Array.isArray(l)?l:[l])||o}else e.push(l),o=!0;else e.push(l)}return o}function f(e,t,n){let r=n.length,s=t.length,l=r,c=0,h=0,u=a(t[s-1]),d=null;for(;c<s||h<l;)if(t[c]!==n[h]){for(;t[s-1]===n[l-1];)s--,l--;if(s===c){const t=l<r?h?a(n[h-1]):n[l-h]:u;for(;h<l;)o(e,n[h++],t)}else if(l===h)for(;c<s;)d&&d.has(t[c])||i(e,t[c]),c++;else if(t[c]===n[l-1]&&n[h]===t[s-1]){const r=a(t[--s]);o(e,n[h++],a(t[c++])),o(e,n[--l],r),t[s]=n[l]}else{if(!d){d=new Map;let e=h;for(;e<l;)d.set(n[e],e++)}const r=d.get(t[c]);if(null!=r)if(h<r&&r<l){let i,a=c,u=1;for(;++a<s&&a<l&&null!=(i=d.get(t[a]))&&i===r+u;)u++;if(u>r-h){const i=t[c];for(;h<r;)o(e,n[h++],i)}else y(e,n[h++],t[c++])}else c++;else i(e,t[c++])}}else c++,h++}function p(e,n,r,s){if(void 0===r){let t;for(;t=c(e);)i(e,t);return s&&o(e,s),""}const a=s||t("");if(n.length){let t=!1;for(let s=n.length-1;s>=0;s--){const c=n[s];if(a!==c){const n=l(c)===e;t||s?n&&i(e,c):n?y(e,a,c):o(e,a,r)}else t=!0}}else o(e,a,r);return[a]}function g(e,t,n){for(let r=0,i=t.length;r<i;r++)o(e,t[r],n)}function y(e,t,n){o(e,t,n),i(e,n)}function m(e,t,n={},r){return t||(t={}),r||z((()=>n.children=u(e,t.children,n.children))),z((()=>t.ref&&t.ref(e))),z((()=>{for(const r in t){if("children"===r||"ref"===r)continue;const o=t[r];o!==n[r]&&(s(e,r,o,n[r]),n[r]=o)}})),n}return{render(e,t){let n;return A((r=>{n=r,h(t,e())})),n},insert:h,spread(e,t,n){"function"==typeof t?z((r=>m(e,t(),r,n))):m(e,t,void 0,n)},createElement:e,createTextNode:t,insertNode:o,setProp:(e,t,n,r)=>(s(e,t,n,r),n),mergeProps:fe,effect:z,memo:I,createComponent:ce,use:(e,t,n)=>M((()=>e(t,n)))}}const Qe={createElement(e){const t=new Ve(e);return _e.root&&E((()=>t.render())),t},createTextNode:e=>({name:"TextNode",text:e,parent:null}),replaceText(e,t){De("Replace Text: ",e,t),e.text=t;const r=e.parent;n(r),r._autosized&&r._resizeOnTextLoad(),r.text=r.getText()},setProperty(e,t,n=!0){"animate"!==t?e[t]=n:e._animate=n},insertNode(e,t,n){De("INSERT: ",e,t,n),e&&(e.children.insert(t,n),"TextNode"===t.name&&(e.isTextNode()||console.error("Inserting text outside of a <Text> node is not allowed"),e._autosized&&e._resizeOnTextLoad(),e.text=e.getText()))},isTextNode:e=>e.isTextNode(),removeNode(e,t){De("REMOVE: ",e,t),e.children.remove(t),t instanceof Ve&&t.destroy()},getParentNode:e=>e.parent??void 0,getFirstChild:e=>e.children[0],getNextSibling(e){if(e.parent){const t=e.parent.children||[],n=t.indexOf(e)+1;if(n<t.length)return t[n]}}},et={...Qe,createElement(e){const t=document.createElement("div");"canvas"===e?(t.id="linspector",n(_e.canvas.parentNode),_e.canvas.parentNode.appendChild(t)):t.classList.add("lnode"),"text"===e&&t.classList.add("ltext");const r=Qe.createElement(e);if("canvas"!==e){const e=r.render;r.render=()=>{e.call(r),r.id&&(t.id=r.id),r.clipping&&(t.style.overflow="hidden"),t.style.width=r.width+"px",t.style.height=r.height+"px",t.style.top=r.y+"px",t.style.left=r.x+"px",t.style.zIndex=`${r.zIndex}`}}return r._dom=t,t.solid=r,r},setProperty(e,t,n=!0){"width"===t?e._dom.style.width=n+"px":"height"===t?e._dom.style.height=n+"px":"y"===t?e._dom.style.top=n+"px":"x"===t?e._dom.style.left=n+"px":"zIndex"===t&&(e._dom.style.zIndex=n),Qe.setProperty(e,t,n)},createTextNode(e){const t=document.createTextNode(e),n=Qe.createTextNode(e);return n._dom=t,n},replaceText(e,t){Qe.replaceText(e,t),e._dom.data=t},insertNode(e,t,n){e&&(n&&e._dom===n._dom.parentNode?e._dom.insertBefore(t._dom,n._dom):e._dom.appendChild(t._dom),Qe.insertNode(e,t,n))},removeNode(e,t){e._dom.removeChild(t._dom),Qe.removeNode(e,t)}},tt="development"===t.meta.env?.MODE;tt&&((e=>{const t=document.createElement("style");t.innerText=e,document.head.appendChild(t)})("\n    #linspector {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      zIndex: 5;\n      overflow: hidden;\n    }\n    div.lnode {\n      position: absolute;\n      display: inline-block;\n    }\n    .ltext {\n      visibility: hidden;\n    }\n  "),setTimeout((function(){!function(e){const t=e.getBoundingClientRect(),n=_e.settings.deviceLogicalPixelRatio||1,r=document.getElementById("linspector");r.style.left=e.offsetLeft+"px",r.style.top=e.offsetTop+"px",r.style.width=Math.ceil(t.width/n)+"px",r.style.height=Math.ceil(t.height/n)+"px",r.style.transformOrigin="0 0 0",r.style.transform="scale("+n+","+n+")"}(_e.canvas)}),1e3));const nt=function(e){const t=Ze(e);return t.mergeProps=fe,t}(tt?et:Qe),rt=nt.render,{effect:ot,memo:it,createComponent:st,createElement:lt,createTextNode:ct,insertNode:at,insert:ht,spread:ut,setProp:dt,mergeProps:ft,use:pt}=nt;function gt(e=""){return t=e,Number.isInteger(t)?e:"string"==typeof e?e.startsWith("#")?Number(e.replace("#","0x")+(7===e.length?"ff":"")):e.startsWith("0x")?Number(e):Number("0x"+(6===e.length?e+"ff":e)):0;var t}const yt="_$DX_DELEGATE";function mt(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get:()=>n||document});n;){const r=n[t];if(r&&!n.disabled){const o=n[`${t}Data`];if(void 0!==o?r.call(n,o,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function xt(e,t){const n=function(e){try{return document.querySelector(e)}catch(t){return null}}(`#${e}`);n?n.scrollIntoView():t&&window.scrollTo(0,0)}function vt(){return function(e,t,n,r){let o=!1;const i=e=>"string"==typeof e?{value:e}:e,s=function([e,t],n,r){return[n?()=>n(e()):e,r?e=>t(r(e)):t]}(L(i(e()),{equals:(e,t)=>e.value===t.value}),void 0,(e=>(!o&&t(e),e)));return n&&Y(n(((t=e())=>{o=!0,s[1](i(t)),o=!1}))),{signal:s,utils:r}}((()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state})),(({value:e,replace:t,scroll:n,state:r})=>{t?window.history.replaceState(r,"",e):window.history.pushState(r,"",e),xt(window.location.hash.slice(1),n)}),(e=>{return t=window,n="popstate",r=()=>e(),t.addEventListener(n,r),()=>t.removeEventListener(n,r);var t,n,r}),{go:e=>window.history.go(e)})}const wt=/^(?:[a-z0-9]+:)?\/\//i,bt=/^\/+|(\/)\/+$/g;function Tt(e,t=!1){const n=e.replace(bt,"$1");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function Nt(e,t,n){if(wt.test(t))return;const r=Tt(e),o=n&&Tt(n);let i="";return i=!o||t.startsWith("/")?r:0!==o.toLowerCase().indexOf(r.toLowerCase())?r+o:o,(i||"/")+Tt(t,!i)}function St(e,t){return Tt(e).replace(/\/*(\*.*)?$/g,"")+Tt(t)}function _t(e,t,n){const[r,o]=e.split("/*",2),i=r.split("/").filter(Boolean),s=i.length;return e=>{const r=e.split("/").filter(Boolean),l=r.length-s;if(l<0||l>0&&void 0===o&&!t)return null;const c={path:s?"":"/",params:{}},a=e=>void 0===n?void 0:n[e];for(let t=0;t<s;t++){const e=i[t],n=r[t],o=":"===e[0],s=o?e.slice(1):e;if(o&&Ct(n,a(s)))c.params[s]=n;else if(o||!Ct(n,e))return null;c.path+=`/${n}`}if(o){const e=l?r.slice(-l).join("/"):"";if(!Ct(e,a(o)))return null;c.params[o]=e}return c}}function Ct(e,t){const n=t=>0===t.localeCompare(e,void 0,{sensitivity:"base"});return void 0===t||("string"==typeof t?n(t):"function"==typeof t?t(e):Array.isArray(t)?t.some(n):t instanceof RegExp&&t.test(e))}function Rt(e){const[t,n]=e.pattern.split("/*",2),r=t.split("/").filter(Boolean);return r.reduce(((e,t)=>e+(t.startsWith(":")?2:3)),r.length-(void 0===n?0:1))}function Ft(e){const t=new Map,n=D();return new Proxy({},{get:(r,o)=>(t.has(o)||function(e,t){const n=N,r=C;N=e,C=null;try{return K(t,!0)}catch(o){re(o)}finally{N=n,C=r}}(n,(()=>t.set(o,I((()=>e()[o]))))),t.get(o)()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0}),ownKeys:()=>Reflect.ownKeys(e())})}function Pt(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),r=e.slice(t.index+t[0].length);const o=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(r);)o.push(n+=t[1]),r=r.slice(t[0].length);return Pt(r).reduce(((e,t)=>[...e,...o.map((e=>e+t))]),[])}const At=X(),Lt=X(),kt=()=>function(e,t){if(null==e)throw new Error(t);return e}($(At),"Make sure your app is wrapped in a <Router />");let zt;const Et=()=>zt||$(Lt)||kt().base,It=()=>kt().navigatorFactory(),Bt=()=>Et().params;function Mt(e,t="",n){const{component:r,data:o,children:i}=e,s=!i||Array.isArray(i)&&!i.length,l={key:e,element:r?()=>ce(r,{}):()=>{const{element:t}=e;return void 0===t&&n?ce(n,{}):t},preload:e.component?r.preload:e.preload,data:o};return jt(e.path).reduce(((n,r)=>{for(const o of Pt(r)){const r=St(t,o),i=s?r:r.split("/*",1)[0];n.push({...l,originalPath:o,pattern:i,matcher:_t(i,!s,e.matchFilters)})}return n}),[])}function Ot(e,t=0){return{routes:e,score:1e4*Rt(e[e.length-1])-t,matcher(t){const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r],i=o.matcher(t);if(!i)return null;n.unshift({...i,route:o})}return n}}}function jt(e){return Array.isArray(e)?e:[e]}function Yt(e,t="",n,r=[],o=[]){const i=jt(e);for(let s=0,l=i.length;s<l;s++){const e=i[s];if(e&&"object"==typeof e&&e.hasOwnProperty("path")){const i=Mt(e,t,n);for(const t of i){r.push(t);const i=Array.isArray(e.children)&&0===e.children.length;if(e.children&&!i)Yt(e.children,t.pattern,n,r,o);else{const e=Ot([...r],o.length);o.push(e)}r.pop()}}}return r.length?o:o.sort(((e,t)=>t.score-e.score))}function Dt(e,t="",n,r){const{signal:[o,i],utils:s={}}=function(e){return e?Array.isArray(e)?{signal:e}:e:{signal:L({value:""})}}(e),l=s.parsePath||(e=>e),c=s.renderPath||(e=>e),a=s.beforeLeave||function(){let e=new Set,t=!1;return{subscribe:function(t){return e.add(t),()=>e.delete(t)},confirm:function(n,r){if(t)return!(t=!1);const o={to:n,options:r,defaultPrevented:!1,preventDefault:()=>o.defaultPrevented=!0};for(const i of e)i.listener({...o,from:i.location,retry:e=>{e&&(t=!0),i.navigate(n,r)}});return!o.defaultPrevented}}}(),h=Nt("",t);if(void 0===h)throw new Error(`${h} is not a valid base path`);h&&!o().value&&i({value:h,replace:!0,scroll:!1});const[u,d]=L(!1),f=async e=>{d(!0);try{await function(e){const t=C,n=N;return Promise.resolve().then((()=>{C=t,N=n,K(e,!1),C=N=null}))}(e)}finally{d(!1)}},[p,g]=L(o().value),[y,m]=L(o().state),x=function(e,t){const n=new URL("http://sar"),r=I((t=>{const r=e();try{return new URL(r,n)}catch(o){return console.error(`Invalid path ${r}`),t}}),n,{equals:(e,t)=>e.href===t.href}),o=I((()=>r().pathname)),i=I((()=>r().search),!0),s=I((()=>r().hash)),l=I((()=>""));return{get pathname(){return o()},get search(){return i()},get hash(){return s()},get state(){return t()},get key(){return l()},query:Ft(O(i,(()=>function(e){const t={};return e.searchParams.forEach(((e,n)=>{t[n]=e})),t}(r()))))}}(p,y),v=[],w={pattern:h,params:{},path:()=>h,outlet:()=>null,resolvePath:e=>Nt(h,e)};if(n)try{zt=w,w.data=n({data:void 0,params:{},location:x,navigate:T(w)})}finally{zt=void 0}function b(e,t,n){M((()=>{if("number"==typeof t)return void(t&&(s.go?a.confirm(t,n)&&s.go(t):console.warn("Router integration does not support relative routing")));const{replace:r,resolve:o,scroll:l,state:c}={replace:!1,resolve:!0,scroll:!0,...n},h=o?e.resolvePath(t):Nt("",t);if(void 0===h)throw new Error(`Path '${t}' is not a routable path`);if(v.length>=100)throw new Error("Too many redirects");const u=p();if((h!==u||c!==y())&&a.confirm(h,n)){const e=v.push({value:u,replace:r,scroll:l,state:y()});f((()=>{g(h),m(c)})).then((()=>{v.length===e&&function(e){const t=v[0];t&&(e.value===t.value&&e.state===t.state||i({...e,replace:t.replace,scroll:t.scroll}),v.length=0)}({value:h,state:c})}))}}))}function T(e){return e=e||$(Lt)||w,(t,n)=>b(e,t,n)}z((()=>{const{value:e,state:t}=o();M((()=>{e!==p()&&f((()=>{g(e),m(t)}))}))}));{function S(e){if(e.defaultPrevented||0!==e.button||e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return;const t=e.composedPath().find((e=>e instanceof Node&&"A"===e.nodeName.toUpperCase()));if(!t||!t.hasAttribute("link"))return;const n=t.href;if(t.target||!n&&!t.hasAttribute("state"))return;const r=(t.getAttribute("rel")||"").split(/\s+/);if(t.hasAttribute("download")||r&&r.includes("external"))return;const o=new URL(n);if(o.origin!==window.location.origin||h&&o.pathname&&!o.pathname.toLowerCase().startsWith(h.toLowerCase()))return;const i=l(o.pathname+o.search+o.hash),s=t.getAttribute("state");e.preventDefault(),b(w,i,{resolve:!1,replace:t.hasAttribute("replace"),scroll:!t.hasAttribute("noscroll"),state:s&&JSON.parse(s)})}!function(e,t=window.document){const n=t[yt]||(t[yt]=new Set);for(let r=0,o=e.length;r<o;r++){const o=e[r];n.has(o)||(n.add(o),t.addEventListener(o,mt))}}(["click"]),document.addEventListener("click",S),Y((()=>document.removeEventListener("click",S)))}return{base:w,out:void 0,location:x,isRouting:u,renderPath:c,parsePath:l,navigatorFactory:T,beforeLeave:a}}function Xt(e,t,n,r,o){const{base:i,location:s,navigatorFactory:l}=e,{pattern:c,element:a,preload:h,data:u}=r().route,d=I((()=>r().path));h&&h();const f={parent:t,pattern:c,get child(){return n()},path:d,params:o,data:t.data,outlet:a,resolvePath:e=>Nt(i.path(),e,d())};if(u)try{zt=f,f.data=u({data:t.data,params:o,location:s,navigate:l(f)})}finally{zt=void 0}return f}const $t=e=>{const{source:t,url:n,base:r,data:o,out:i}=e,s=Dt(t||vt(),r,o);return st(At.Provider,{value:s,get children(){return e.children}})},Wt=e=>{const t=kt(),n=Et(),r=W((()=>e.children)),o=I((()=>Yt(r(),St(n.pattern,e.base||""),Ht))),i=I((()=>function(e,t){for(let n=0,r=e.length;n<r;n++){const r=e[n].matcher(t);if(r)return r}return[]}(o(),t.location.pathname))),s=Ft((()=>{const e=i(),t={};for(let n=0;n<e.length;n++)Object.assign(t,e[n].params);return t}));t.out&&t.out.matches.push(i().map((({route:e,path:t,params:n})=>({originalPath:e.originalPath,pattern:e.pattern,path:t,params:n}))));const l=[];let c;const a=I(O(i,((e,r,o)=>{let h=r&&e.length===r.length;const u=[];for(let c=0,d=e.length;c<d;c++){const d=r&&r[c],f=e[c];o&&d&&f.route.key===d.route.key?u[c]=o[c]:(h=!1,l[c]&&l[c](),A((e=>{l[c]=e,u[c]=Xt(t,u[c-1]||n,(()=>a()[c+1]),(()=>i()[c]),s)})))}return l.splice(e.length).forEach((e=>e())),o&&h?o:(c=u[0],u)})));return st(ye,{get when(){return a()&&c},keyed:!0,children:e=>st(Lt.Provider,{value:e,get children(){return e.outlet()}})})},Ut=e=>{const t=W((()=>e.children));return fe(e,{get children(){return t()}})},Ht=()=>{const e=Et();return st(ye,{get when(){return e.child},keyed:!0,children:e=>st(Lt.Provider,{value:e,get children(){return e.outlet()}})})};var qt=Y;function Gt(e,t=D()){let n,r,o=0;return()=>(o++,Y((()=>{o--,queueMicrotask((()=>{!o&&r&&(r(),r=n=void 0)}))})),r||A((t=>n=e(r=t)),t),n)}var Vt=Gt((()=>{const[e,t]=L(null);var n,r,o,i;return n=window,r="keydown",o=e=>{t(e),setTimeout((()=>t(null)))},n.addEventListener(r,o,i),qt(n.removeEventListener.bind(n,r,o,i)),e}));function Kt(e){return"function"==typeof e}function Jt(e,t){if(!e)throw new Error(t||"Assertion failed")}let Zt={Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Enter:"Enter",Last:"l"};const[Qt,en]=L([]);function tn(e,t){const n=t();let r,o,i,s;Array.isArray(n)?2===n.length?(r=s=n[0],o=i=n[1]):3===n.length?(r=n[0],o=i=n[1],s=n[2]):[r,i,s,o]=n:r=i=s=o=n,e.onLayout=(t,n)=>{n&&(e.width=n.width+o+i,e.height=n.height+r+s,t.x=o,t.y=r,e.parent.updateLayout(e,{width:e.width,height:e.height}))}}function nn(e){return new Promise((t=>{setTimeout(t,e)}))}function rn(e,t,n="en-US"){const r=window.speechSynthesis;return new Promise(((o,i)=>{const s=new SpeechSynthesisUtterance(e);s.lang=n,s.onend=()=>{o()},s.onerror=e=>{i(e)},t.push(s),r.speak(s)}))}function on(e,t,n=!0){const r=window.speechSynthesis,o=function(e=[]){const t=[];let n;for(n=0;n<e.length;n++){const r=e[n];if("string"!=typeof r||r.includes("PAUSE-"))break;t.push(e[n])}return[t.join(",\b ")].concat(e.slice(n))}(Array.isArray(e)?e:[e]),i=[],s=[];let l=!0;return{series:(async()=>{try{for(;l&&o.length;){const n=await Promise.resolve(o.shift());if(!l)break;if("string"==typeof n&&n.includes("PAUSE-")){let e=1e3*Number(n.split("PAUSE-")[1]);isNaN(e)&&(e=0),await nn(e)}else if("string"==typeof n&&n.length){const r=3;let o=r;for(;l&&o>0;)try{await rn(n,s,t),o=0}catch(e){if(!(e instanceof SpeechSynthesisErrorEvent))throw e;if("network"===e.error)o--,console.warn(`Speech synthesis network error. Retries left: ${o}`),await nn(500*(r-o));else{if("canceled"!==e.error&&"interrupted"!==e.error)throw new Error(`SpeechSynthesisErrorEvent: ${e.error}`);o=0}}}else if("function"==typeof n){const e=on(n(),t,!1);i.push(e),await e.series}else if(Array.isArray(n)){const e=on(n,t,!1);i.push(e),await e.series}}}finally{l=!1}})(),get active(){return l},append:e=>{o.push(e)},cancel:()=>{l&&(n&&r.cancel(),i.forEach((e=>{e.cancel()})),l=!1)}}}let sn;function ln(e,t="en-US"){return sn&&sn.cancel(),sn=on(e,t),sn}let cn,an,hn=[],un=!1;function dn(e,t){const n=((e,t)=>{let n;const r=()=>clearTimeout(n);return D()&&Y(r),Object.assign(((...o)=>{void 0!==n&&r(),n=setTimeout((()=>e(...o)),t)}),{clear:r})})(e,t);let r;const o=e=>{r=e,n(e)};return o.flush=()=>{n.clear(),e(r)},o.clear=n.clear,o}function fn(e){return e.id||e.name}function pn(e=[]){if(!gn.onFocusChange)return;const t=e.every((e=>!e.loading)),n=e.filter((e=>!hn.includes(e)));if(cn(),!t&&gn.onFocusChange)return void gn.onFocusChange([]);hn=e.slice(0);const r=[],o=n.reduce(((e,t)=>(t.announce?(e.push([fn(t),"Announce",t.announce]),r.push(t.announce)):t.title?(e.push([fn(t),"Title",t.title]),r.push(t.title)):e.push([fn(t),"No Announce",""]),e)),[]);return n.reverse().reduce(((e,t)=>(t.announceContext?(e.push([fn(t),"Context",t.announceContext]),r.push(t.announceContext)):e.push([fn(t),"No Context",""]),e)),o),gn.debug&&console.table(o),r.length?gn.speak(r.reduce(((e,t)=>e.concat(t)),[])):void 0}const gn={debug:!1,cancel:function(){an&&an.cancel()},clearPrevFocus:function(e=0){hn=hn.slice(0,e),cn()},speak:function(e,{append:t=!1,notification:n=!1}={}){return gn.onFocusChange&&(gn.onFocusChange.flush(),t&&an&&an.active?an.append(e):(gn.cancel(),r=e,un||(an=ln(r))),n&&(un=!0,an?.series.finally((()=>{un=!1})).catch(console.error))),an;var r},setupTimers:function({focusDebounce:e=400,focusChangeTimeout:t=3e5}={}){gn.onFocusChange=dn(pn,e),cn=dn((()=>{hn=[]}),t)}};function yn(e){return function(){const t=this.children.length,n=this.wrap,r=this.selected;if("right"===e||"down"===e){do{if(this.selected=(this.selected||0)%t+1,this.selected>=t){if(!n){this.selected=null;break}this.selected=0}}while(this.children[this.selected]?.skipFocus)}else if("left"===e||"up"===e)do{if(this.selected=(this.selected||0)%t-1,this.selected<0){if(!n){this.selected=null;break}this.selected=t-1}}while(this.children[this.selected]?.skipFocus);if(null===this.selected)return this.selected=r,!1;const o=this.children[this.selected];if(Jt(o instanceof Ve),this.onSelectedChanged&&this.onSelectedChanged.call(this,this,o,this.selected,r),this.plinko&&null!==r){const e=this.children[r];Jt(e instanceof Ve);const t=e.selected;o.selected=t}return xe(o),!0}}function mn(e){const t=yn("left"),n=yn("right");return(()=>{const r=lt("node");return dt(r,"onLeft",t),dt(r,"onRight",n),dt(r,"selected",0),ut(r,ft({get onFocus(){return e.onFocus||(e=>{if(!e||!e.selected)return;const t=e.children[e.selected];t instanceof Ve&&t.setFocus()})}},e),!0),ht(r,(()=>e.children)),r})()}function xn(e){const t=yn("up"),n=yn("down");return(()=>{const r=lt("node");return dt(r,"onUp",t),dt(r,"onDown",n),dt(r,"selected",0),ut(r,ft({get onFocus(){return e.onFocus||(e=>{if(!e||!e.selected)return;const t=e.children[e.selected];t instanceof Ve&&t.setFocus()})}},e),!0),ht(r,(()=>e.children)),r})()}const vn={flexRow:{display:"flex",flexDirection:"row",justifyContent:"flexStart"},flexColumn:{display:"flex",flexDirection:"column",justifyContent:"flexStart"},layout:{screenW:1920,screenH:1080,marginX:120,marginY:120,gutterX:24,gutterY:72,focusScale:1.1},color:{primary:"#00315c",focus:"#bdbdbd",container:"#004882"},typography:{display1:{fontFamily:"Ubuntu",fontSize:72,lineHeight:88,fontStyle:"600",verticalAlign:"middle",textBaseline:"bottom",maxLineSuffix:"..."},display2:{fontFamily:"Ubuntu",fontSize:56,lineHeight:72},headline1:{fontFamily:"Ubuntu",fontSize:36,fontStyle:"600",lineHeight:48,verticalAlign:"middle",textBaseline:"bottom",maxLineSuffix:"..."},headline2:{fontFamily:"Ubuntu",fontSize:32,lineHeight:44},headline3:{fontFamily:"Ubuntu",fontSize:28,lineHeight:40},body1:{fontFamily:"Ubuntu",fontSize:32,lineHeight:40},body2:{fontFamily:"Ubuntu",fontSize:28,lineHeight:34},button1:{fontFamily:"Ubuntu",fontSize:32,lineHeight:40}}},wn={Page:{width:1920,height:1080},headlineText:{width:1200,height:240,x:360,y:455,contain:"both",fontSize:66,textAlign:"center"},headlineSubText:{width:960,height:170,x:530,y:655,contain:"both",fontSize:48,textAlign:"center"},itemsContainer:{width:vn.layout.screenW,height:600,y:560,x:0},Thumbnail:{borderRadius:16,width:185,height:278,scale:1,zIndex:2,focus:{scale:1.1}},FocusRing:{borderRadius:16,width:194,height:286,y:-5,x:-5},showHeadline:{x:70,y:20},headlineBlur:{width:1920,height:150,x:0,y:0,zIndex:14,alpha:.9,color:gt("#000000")},RowTitle:{height:60,width:300,marginTop:20,fontSize:36,color:gt("#f0f0f0"),zIndex:2},Row:{display:"flex",justifyContent:"spaceBetween",height:300},Column:{display:"flex",flexDirection:"column",justifyContent:"flexStart",gap:20,width:vn.layout.screenW-2*vn.layout.marginX,x:vn.layout.marginX+vn.layout.gutterX,y:48},Rect:{width:250,height:100,y:10,x:300,color:gt("#0000ff")},peopleBio:{...vn.typography.body1,contain:"both",width:1500,height:400}},bn={width:386,height:136,color:gt("#000000"),alpha:.3,borderRadius:30,border:{width:5,color:gt("#cc33ff")},scale:1,focus:{color:["#58807d",{duration:2e3}],scale:1.2,border:{width:5,color:gt("#ff0000")},alpha:[1,{duration:1500,delay:200,timing:"easy-in"}]},active:{color:gt("#33ff55")},disabled:{alpha:1}},Tn={container:bn,topBar:{color:gt("#00A699"),height:8,y:2,x:-4,width:bn.width+8},text:{fontSize:32,contain:"width",textAlign:"center",mountY:-.35,color:gt("#F6F6F9"),height:bn.height,width:bn.width,focus:{fontSize:64}}},Nn=386,Sn=136,_n=(gt("#715cab"),gt("#5a39a2"),gt("#291d43"),{fontSize:32,contain:"width",textAlign:"center",mountY:-.35,color:gt("#FFFFFF"),height:Sn,width:Nn,focus:{fontSize:40},disabled:{color:gt("#909090")}});function Cn(e){return st(we,ft(e,{animate:!0,get style(){return wn.Thumbnail}}))}function Rn(e){return st(we,ft(e,{get style(){return wn.FocusRing}}))}function Fn(e){const[t,n]=function(e,...t){if(g in e){const n=new Set(t.length>1?t.flat():t[0]),r=t.map((t=>new Proxy({get:n=>t.includes(n)?e[n]:void 0,has:n=>t.includes(n)&&n in e,keys:()=>t.filter((t=>t in e))},he)));return r.push(new Proxy({get:t=>n.has(t)?void 0:e[t],has:t=>!n.has(t)&&t in e,keys:()=>Object.keys(e).filter((e=>!n.has(e)))},he)),r}const n={},r=t.map((()=>({})));for(const o of Object.getOwnPropertyNames(e)){const i=Object.getOwnPropertyDescriptor(e,o),s=!i.get&&!i.set&&i.enumerable&&i.writable&&i.configurable;let l=!1,c=0;for(const e of t)e.includes(o)&&(l=!0,s?r[c][o]=i.value:Object.defineProperty(r[c],o,i)),++c;l||(s?n[o]=i.value:Object.defineProperty(n,o,i))}return[...r,n]}(e,["items"]);return st(mn,ft(n,{get style(){return wn.Row},get children(){return st(ge,{get each(){return t.items},children:e=>st(Cn,e)})}}))}const[Pn,An]=L(""),Ln="https://api.themoviedb.org/3";let kn,zn;const En="w185",In={headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyZDE4YjEwMTA0YjdiZTlkNjFiMWYwYjVlMGEwNzM2OCIsInN1YiI6IjYwZTVjMTdlNGNhNjc2MDA3NTA4Njc3MSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.D_nqH9kd-bhhWzeVsTDPYhHnsUaNAuyAa6YATmKHqsA"}};function Bn(e,t=En){return zn+t+e}function Mn(e,t={}){return fetch(Ln+e,{...In,...t}).then((e=>e.json()))}function On(){return Mn("/configuration").then((e=>(kn=e,zn=e.images?.secure_base_url,e)))}const jn={get:function(e,t={}){return kn?Mn(e,t):On().then((()=>Mn(e,t)))},loadConfig:On};function Yn(e=[]){return e.map((e=>{return{src:Bn(e.poster_path||e.profile_path),tileSrc:Bn(e.backdrop_path||e.profile_path,"w300"),backdrop:Bn(e.backdrop_path,"original"),href:`/entity/${e.media_type||"people"}/${e.id}`,shortTitle:(t=e.title||e.name,n=30,t.length>n?t.substring(0,n-3)+"...":t),title:e.title||e.name,data:e,entityInfo:{type:e.media_type||"people",id:e.id},heroContent:{title:e.title||e.name,description:e.overview}};var t,n}))}let Dn=new Map;const Xn=new Map;function $n(e){const[t,n]=L([]),[r,o]=L(1),[i,s]=L(!1),[l]=B(r,e);return k((()=>{const e=l();e&&K((()=>{0===e.length&&s(!0),n((t=>[...t,...e]))}),!1)})),{pages:t,page:r,setPage:o,setPages:n,end:i,setEnd:s}}const Wn=1100,Un={...vn.typography.display2,width:Wn,height:58,contain:"both"},Hn=e=>st(ve,ft(e,{style:Un,get children(){return e.children}})),qn={...vn.typography.body1,width:Wn,height:72,contain:"both"},Gn={fontSize:20,lineHeight:20},Vn=e=>st(ve,ft(e,{style:qn,get children(){return e.children}})),Kn=e=>(()=>{const t=lt("node");return pt(tn,t,(()=>[8,15,13,15])),ut(t,ft(e,{style:{color:"#00000099",borderRadius:8,border:{width:3,color:"#ffffff"}}}),!0),ht(t,st(ve,{style:Gn,get children(){return e.children}})),t})(),Jn=vn.typography.body2,Zn=e=>st(we,{get style(){return{...vn.flexRow,gap:12,width:Wn,height:48}},get children(){return[st(ve,{style:Jn,get children(){return e.metaText}}),st(ge,{get each(){return e.badges},children:e=>st(Kn,{y:-5,children:e})}),it((()=>{return t=e.reviews,[st(ye,{get when(){return t?.rtCrit&&"0"!==t?.rtCrit},get children(){return[st(we,{src:"https://upload.wikimedia.org/wikipedia/commons/b/b6/Tomato-Torrent-Icon.png",title:"Rotten Tomatoes Rating",style:{width:30,height:30,marginRight:-6}}),st(ve,{style:Jn,get children(){return t.rtCrit+"%"}})]}}),st(ye,{get when(){return t?.rtFan&&"0"!==t?.rtFan},get children(){return[st(we,{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/da/Rotten_Tomatoes_positive_audience.svg/80px-Rotten_Tomatoes_positive_audience.svg.png",title:"Rotten Tomatoes Rating",style:{width:24,height:30,marginRight:-6}}),st(ve,{style:Jn,get children(){return t.rtFan+"%"}})]}})];var t}))]}}),Qn=e=>st(we,ft(e,{get style(){return{...vn.flexColumn,width:Wn,height:160,gap:16}},get children(){return[st(Hn,{get children(){return e.title}}),st(Vn,{get children(){return e.description}}),st(Zn,{get metaText(){return e.metaText},get badges(){return e.badges},get reviews(){return e.reviews}})]}}));function er(e){const t=e%60;return Math.floor(e/60)+"h "+(t<10?"0":"")+t+"m"}function tr(e){return e.split("-")[0]}function nr({type:e,id:t}){return jn.get(`/${e}/${t}/recommendations`).then((({results:t})=>t.length?Yn(t.slice(0,7)):jn.get(`/trending/${e}/week?page=1`).then((({results:e})=>Yn(e.slice(0,7))))))}function rr({type:e,id:t}){return jn.get(`/${e}/${t}/credits`).then((({cast:e})=>Yn(e.slice(0,7))))}function or({type:e,id:t}){let n="movie"===e?{rtCrit:86,rtFan:92}:{};return jn.get(`/${e}/${t}`).then((t=>({backgroundImage:Bn(t.backdrop_path,"original"),heroContent:{title:t.title||t.name,description:t.overview,badges:["HD"],metaText:"movie"===e?er(t.runtime)+" - "+t.release_date:`${tr(t.first_air_date)} - ${tr(t.last_air_date)}`,reviews:n},...t})))}const ir=()=>{const t=Bt(),[r,o]=L(0),[i,s]=L();B(i,or);const[l,c]=L({}),a=It(),h=function(t,n=e,r){const o=new Map,i=G((e=>{const r=t();for(const[t,i]of o.entries())if(n(t,r)!==n(t,e))for(const e of i.values())e.state=v,e.pure?R.push(e):F.push(e);return r}),void 0,!0,v);return q(i),e=>{const t=C;if(t){let n;(n=o.get(e))?n.add(t):o.set(e,n=new Set([t])),Y((()=>{n.delete(t),!n.size&&o.delete(e)}))}return n(e,i.value)}}((()=>0)),u=I((()=>{return $n((e=t.filter||"all",t=>{const n=`/trending/${e}/week?page=${t}`;if(Dn.has(n))return Dn.get(n);let r=jn.get(n).then((t=>{let n=t.results.filter((e=>!e.adult)),r=function(e,t=7){let n=[];for(let r=0,o=e.length;r<o;r+=t)n.push(e.slice(r,r+t));return n}((Xn.has(e)?Xn.get(e):[]).concat(Yn(n)));return r[r.length-1].length<7?Xn.set(e,r.pop()):Xn.delete(e),r}));return Dn.set(n,r),r}));var e}));function d(){this.children.selected?.setFocus(),o(-1*(this.y||0)+24);let e=u().pages().length;(0===e||this.parent.selected&&this.parent.selected>=e-2)&&u().setPage((e=>e+1))}function f(){let e=this.children.selected;n(e&&e.href),a(e.href)}return E(O(me,(e=>{e.backdrop&&An(e.backdrop),e.heroContent&&c(e.heroContent)}),{defer:!0})),st(ye,{get when(){return u().pages().length},get children(){return[st(Qn,ft({y:360,x:150},l)),st(we,{clipping:!0,get style(){return wn.itemsContainer},get children(){return st(xn,{plinko:!0,announce:"All Trending - Week",animate:!0,get y(){return r()},get style(){return wn.Column},get children(){return st(ge,{get each(){return u().pages()},children:(e,t)=>st(Fn,{get autofocus(){return h(t())},items:e,onFocus:d,onEnter:f})})}})}})]}})},sr=()=>[st(ve,{autofocus:!0,get style(){return wn.headlineText},children:"Learn more about Solid + Lightning through other pages:"}),st(ve,{get style(){return wn.headlineSubText},children:"Press B for buttons, T for Text pages, M for Browse, F for Flex, C for Column Flex"})],lr=()=>{const e={width:900,height:500,y:350,x:150,gap:25,display:"flex",flexDirection:"column",justifyContent:"flexStart",color:gt("00000000")},t={width:900,height:36,gap:6,display:"flex",flexDirection:"row",justifyContent:"flexStart",color:gt("00000000")},n={fontSize:42},r={width:e.width,fontSize:26,contain:"width"},o={fontSize:26};return j((()=>{An("#000000")})),st(we,{autofocus:!0,style:e,get children(){return[st(ve,{style:n,children:"Title of the Page"}),st(ve,{style:r,children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer vel tempor tellus. Sed eu leo purus. Vestibulum sollicitudin eget tellus a varius. Phasellus est turpis, volutpat sed blandit sit amet, rutrum sit amet mauris. In dignissim elit orci, a sollicitudin ipsum faucibus et. Quisque vel quam rutrum, faucibus augue sed, scelerisque nunc."}),st(we,{style:t,get children(){return[st(ve,{style:o,children:"Subline Text"}),st(we,{width:28,height:28,src:"/assets/rt-popcorn.png"}),st(ve,{style:o,children:"More Text"})]}})]}})},cr=()=>{function e(e,t){this.states.toggle("disabled")}const t={display:"flex",justifyContent:"flexStart",width:1500,height:300,color:gt("00000000"),gap:26,y:400};function n(e){return st(we,ft(e,{forwardStates:!0,animate:!0,get style(){return Tn.container},get children(){return st(ve,{get style(){return Tn.text},get children(){return e.children}})}}))}const r=e=>(()=>{const t=lt("node");return pt(withPadding,t,(()=>[10,15])),ut(t,ft(e,{get style(){return{color:gt("#000000be"),borderRadius:8,border:{width:2,color:gt("#ffffff")}}}}),!0),ht(t,st(ve,{style:{fontSize:20},get children(){return e.children}})),t})();return[st(mn,{x:100,y:200,gap:5,style:t,get children(){return[st(r,{children:"HD"}),st(r,{children:"PG13"}),st(r,{children:"NC17"}),st(ve,{fontSize:30,children:"I like bananas"}),st(r,{children:"DOLBY"})]}}),st(mn,{x:100,gap:40,style:t,get children(){return[st(n,{autofocus:!0,onEnter:e,children:"TV Shows"}),st(n,{states:{active:!0,disabled:!1},children:"Movies"}),st(n,{states:"active",children:"Sports"}),st(n,{states:"disabled",children:"News"})]}})]},ar=()=>{const e={display:"flex",justifyContent:"flexStart",width:1600,height:110,color:gt("#4dabf5")},t={fontSize:44,marginTop:25,marginBottom:-20,skipFocus:!0};function n(e){return st(we,ft(e,{style:{width:200,height:100,y:5,color:392801023}}))}const[r,o]=L(50);function i(){this.children.selected?.setFocus(),o(150+-1*(this.y||0))}j((()=>{An("#333333")}));const s=50;return st(xn,{x:160,get y(){return r()},animate:!0,gap:30,height:850,get width(){return e.width},get style(){return wn.Column},get children(){return[st(ve,{style:t,children:"Flex Start"}),st(mn,{gap:s,style:e,onFocus:i,get children(){return[st(n,{autofocus:!0}),st(n,{}),st(n,{}),st(n,{}),st(n,{})]}}),st(ve,{style:t,children:"Flex Start - Margin Left"}),st(mn,{gap:s,style:e,onFocus:i,get children(){return[st(n,{marginLeft:100}),st(n,{}),st(n,{marginLeft:100}),st(n,{}),st(n,{})]}}),st(ve,{style:t,children:"Flex End"}),st(mn,{gap:s,justifyContent:"flexEnd",style:e,onFocus:i,get children(){return[st(n,{}),st(n,{}),st(n,{}),st(n,{}),st(n,{})]}}),st(ve,{style:t,children:"Flex End - Margin Right"}),st(mn,{gap:s,justifyContent:"flexEnd",style:e,onFocus:i,get children(){return[st(n,{}),st(n,{marginRight:100}),st(n,{}),st(n,{}),st(n,{marginRight:100})]}}),st(ve,{style:t,children:"Center - No Margin Support"}),st(mn,{gap:s,justifyContent:"center",style:e,onFocus:i,get children(){return[st(n,{}),st(n,{}),st(n,{}),st(n,{}),st(n,{})]}}),st(ve,{style:t,children:"Space Between - No Margin Support"}),st(mn,{gap:s,justifyContent:"spaceBetween",style:e,onFocus:i,get children(){return[st(n,{}),st(n,{}),st(n,{}),st(n,{}),st(n,{})]}}),st(ve,{style:t,children:"Space Evenly - No Margin Support"}),st(mn,{gap:s,justifyContent:"spaceEvenly",style:e,onFocus:i,get children(){return[st(n,{}),st(n,{}),st(n,{}),st(n,{}),st(n,{})]}})]}})},hr=()=>{const e={display:"flex",justifyContent:"spaceEvenly",width:1920,y:100,height:880,color:gt("00000000")},t={display:"flex",flexDirection:"column",justifyContent:"flexStart",color:gt("#4dabf5"),height:850,width:60};function n(e){const t={width:50,height:80,x:5,color:gt("#1769aa")};return st(we,ft(e,{style:t}))}const[r,o]=L(50);function i(){this.children.selected?.setFocus(),o(150+-1*(this.y||0))}j((()=>{An("#333333")}));const s=50;return[st(ve,{style:{fontSize:44,y:20,x:150},children:"Start, MarginTop, End, MarginBottom, Center, Between, Evenly"}),st(mn,{gap:s,style:e,onFocus:i,get children(){return[st(xn,{gap:30,style:t,get children(){return[st(n,{autofocus:!0}),st(n,{}),st(n,{}),st(n,{}),st(n,{})]}}),st(xn,{gap:s,style:t,onFocus:i,get children(){return[st(n,{marginTop:100}),st(n,{}),st(n,{marginTop:100}),st(n,{}),st(n,{})]}}),st(xn,{gap:s,justifyContent:"flexEnd",style:t,onFocus:i,get children(){return[st(n,{}),st(n,{}),st(n,{}),st(n,{}),st(n,{})]}}),st(xn,{gap:s,justifyContent:"flexEnd",style:t,onFocus:i,get children(){return[st(n,{}),st(n,{marginBottom:100}),st(n,{}),st(n,{}),st(n,{marginBottom:100})]}}),st(xn,{gap:s,justifyContent:"center",style:t,onFocus:i,get children(){return[st(n,{}),st(n,{}),st(n,{}),st(n,{}),st(n,{})]}}),st(xn,{gap:s,justifyContent:"spaceBetween",style:t,onFocus:i,get children(){return[st(n,{}),st(n,{}),st(n,{}),st(n,{}),st(n,{})]}}),st(xn,{gap:s,justifyContent:"spaceEvenly",style:t,onFocus:i,get children(){return[st(n,{}),st(n,{}),st(n,{}),st(n,{}),st(n,{})]}})]}})]},ur=()=>{function e(e,t){this.states.toggle("disabled")}const t={display:"flex",justifyContent:"flexStart",width:1500,height:300,color:gt("00000000"),gap:26,y:400,x:100},n={width:386,height:136,color:"#715cab",focus:{color:"#5a39a2"},disabled:{color:"#291d43"}},r=["RoundedRectangle",{radius:65}];function o(e){return st(we,ft(e,{forwardStates:!0,animate:!0,style:n,shader:r,get children(){return st(ve,{style:_n,get children(){return e.children}})}}))}return st(mn,{style:t,get children(){return[st(o,{autofocus:!0,onEnter:e,children:"Focused"}),st(o,{states:{active:!0,disabled:!1},children:"Normal"}),st(o,{states:"disabled",children:"Disabled"})]}})},dr=()=>{const e=Bt(),t=It(),[r]=B((()=>({...e})),or),[o]=B((()=>({...e})),rr),[i]=B((()=>({...e})),nr);E(O(r,(e=>{An(e.backgroundImage)}),{defer:!0}));const s=600,l={color:gt("#000000"),alpha:0,width:1900,height:890,x:10,y:s,borderRadius:30};function c(){this.children.selected?.setFocus(),u.y=s,d.y=s,d.alpha=0}function a(){this.children.selected?.setFocus(),u.y=200,d.y=160,d.alpha=.9}function h(){let e=this.children.selected;n(e&&e.href),t(e.href)}let u,d;return st(ye,{get when(){return r()},keyed:!0,get children(){return[st(Qn,ft({y:360,x:150},(()=>r().heroContent))),st(xn,{animate:!0,ref(e){"function"==typeof u?u(e):u=e},y:s,x:140,get style(){return wn.Column},get children(){return st(ye,{get when(){return it((()=>!!i()))()&&o()},get children(){return[st(ve,{skipFocus:!0,get style(){return wn.RowTitle},children:"Recommendations"}),st(Fn,{autofocus:!0,onFocus:c,onEnter:h,get items(){return i()}}),st(ve,{skipFocus:!0,get style(){return wn.RowTitle},children:"Cast and Crew"}),st(Fn,{onFocus:a,onEnter:h,get items(){return o()}})]}})}}),st(we,{ref(e){"function"==typeof d?d(e):d=e},animate:!0,style:l})]}})};function fr({id:e}){return jn.get(`/person/${e}/combined_credits`).then((({cast:e})=>Yn(e.slice(0,7))))}function pr({id:e}){return jn.get(`/person/${e}`).then((e=>({backgroundImage:Bn(e.profile_path,"original"),heroContent:{title:e.title||e.name,description:e.biography},...e})))}const gr=()=>{const e=Bt(),t=It(),[r]=B((()=>({...e})),pr),[o]=B((()=>({...e})),fr);E(O(r,(e=>{An(e.backgroundImage)}),{defer:!0}));const i={color:gt("#000000"),alpha:.8,width:1540,height:440,x:130,y:180,borderRadius:30};function s(){let e=this.children.selected;n(e&&e.href),t(e.href)}return st(ye,{get when(){return r()},keyed:!0,get children(){return[st(we,{x:150,y:200,get style(){return wn.Column},zIndex:3,get children(){return[st(ve,{get style(){return vn.typography.display2},get children(){return r().name}}),st(ve,{get style(){return wn.peopleBio},get children(){return r().biography}})]}}),st(we,{style:i}),st(xn,{y:670,x:140,get style(){return wn.Column},get children(){return st(ye,{get when(){return o()},get children(){return[st(ve,{skipFocus:!0,get style(){return wn.RowTitle},children:"Credits"}),st(Fn,{autofocus:!0,onEnter:s,get items(){return o()}})]}})}})]}})},yr=()=>(()=>{const e=lt("node");return dt(e,"style",{width:1920,height:1080,color:868483072}),e})();function mr(){let e,t,n=0;const r={alpha:1,color:4294967295},o={duration:1e3,easing:"ease-in-out"};return E(O(Pn,(r=>r.startsWith("#")?(e.color=r,e.src="",e.alpha=1,n=1,void(t.alpha=0)):(e.color=4294967295,0===n?(e.src=r,void(n=1)):1===n?(t.src=r,n=2,t.alpha=[1],void(e.alpha=[0])):void(2===n&&(e.src=r,n=1,e.alpha=1,t.alpha=0)))),{defer:!0})),st(we,{width:1920,height:1080,get children(){return[st(we,{ref(t){"function"==typeof e?e(t):e=t},animate:!0,animationSettings:o,style:r}),st(we,{ref(e){"function"==typeof t?t(e):t=e},animate:!0,animationSettings:o,style:r,alpha:0}),st(we,{get effects(){return{radialGradient:{colors:[124,124,gt(vn.color.container)],stops:[0,.4,.9],height:800,width:1920,pivot:[.8,0]}}}})]}})}const xr={Column:{...vn.flexColumn,width:320,height:600,y:360,gap:20,zIndex:101,x:[8,{duration:250,easing:"ease-in-out"}],focus:{x:[vn.layout.marginX,{duration:250,easing:"ease-in-out"}]}},Gradient:{zIndex:99,linearGradient:{angle:(vr=270,vr*Math.PI/180),stops:[0,.4,.8],colors:[gt(vn.color.primary),gt(vn.color.primary),gt("#00000000")]},alpha:[0],focus:{width:1600,alpha:[1]},width:100,height:1080},NavButton:{zIndex:102,height:70,width:100,borderRadius:8,focus:{color:gt(vn.color.container)},active:{width:328,height:70}}};var vr;const wr="/solid-demo-app/",br=[{name:"experiment",width:81,height:100,x:0,y:0},{name:"trending",width:100,height:56,x:81,y:0},{name:"tv",width:100,height:68,x:181,y:0},{name:"movie",width:94,height:100,x:281,y:0}];function Tr(e){const t=function(e,t){const n=_e.createTexture("ImageTexture",{src:e});return t.reduce(((e,t)=>{const{x:r,y:o,width:i,height:s}=t;return e[t.name]=_e.createTexture("SubTexture",{texture:n,x:r,y:o,width:i,height:s}),e}),{})}(wr+"assets/icons_white.png",br);return st(we,ft(e,{get texture(){return t[e.name]},get width(){return t[e.name].props.width},get height(){return t[e.name].props.height},get x(){return(100-(t[e.name].props.width||0))/2},get y(){return(100-(t[e.name].props.height||0))/2}}))}function Nr(e){return st(we,ft(e,{forwardStates:!0,get style(){return xr.NavButton},get children(){return[st(we,{y:-16,get children(){return st(Tr,{scale:.5,get name(){return e.icon}})}}),st(ve,{get style(){return{...vn.typography.button1,fontSize:38,x:116,y:16,height:50,alpha:0,active:{alpha:1}}},get children(){return e.children}})]}}))}function Sr(e){let t;const n=It();return[st(xn,ft(e,{onFocus:function(){t.states.add("focus"),this.children.forEach((e=>e.states.add("active"))),this.children.selected.setFocus()},onBlur:function(){t.states.remove("focus"),this.selected=0,this.children.forEach((e=>e.states.remove("active")))},get style(){return xr.Column},animate:!0,get children(){return[st(Nr,{onEnter:()=>n("/browse/all"),icon:"trending",children:"Trending"}),st(Nr,{icon:"movie",onEnter:()=>n("/browse/movie"),children:"Movies"}),st(Nr,{icon:"tv",onEnter:()=>n("/browse/tv"),children:"TV"}),st(Nr,{icon:"experiment",onEnter:()=>n("/examples"),children:"Examples"})]}})),st(we,{ref(e){"function"==typeof t?t(e):t=e},get style(){return xr.Gradient}})]}const _r=()=>{((e={})=>{const t=Vt();Zt={...Zt,...e};const n=Object.entries(Zt);E(O(me,((e,t,n=[])=>{let r=e;const o=[];for(;r;)r.states.has("focus")||(r.states.add("focus"),Kt(r.onFocus)&&r.onFocus.call(r,e,t??null)),o.push(r),r=r.parent??null;return n.forEach((n=>{o.includes(n)||(n.states.remove("focus"),Kt(n.onBlur)&&n.onBlur.call(n,e,t??null))})),en(o),o}),{defer:!0})),E((()=>{const e=t();if(e){const t=n.find((([t,n])=>n===e.key));M((()=>{const n=Qt();for(const r of n){const n=t?t[0]:void 0;if(n){const t=r[`on${n}`];if(Kt(t)&&!0===t.call(r,e,r))break}if(Kt(r.onKeyPress)&&!0===r.onKeyPress.call(r,e,n,r))break}return!1}))}}))})({Menu:"m",Flex:"f",FlexColumn:"c",Text:"t",Buttons:"b"}),gn.setupTimers(),E(O(Qt,gn.onFocusChange,{defer:!0}));const e=It();let t,r,o;return E(O(me,(e=>{n(e),setTimeout((()=>{e.heroContent?(t.parent=e,t.alpha=1,t.width=e.width+10,t.height=e.height+10,t.zIndex=e.zIndex-1e-8):t.alpha=0}),10)}),{defer:!0})),st(we,{ref(e){const t=window.APP;"function"==typeof t?t(e):window.APP=e},onLast:()=>history.back(),onText:()=>e("/text"),onFlex:()=>e("/flex"),onFlexColumn:()=>e("/flexcolumn"),onButtons:()=>e("/buttons"),onMenu:()=>e("/"),style:{width:1920,height:1080},onLeft:()=>{if(r.states.has("focus"))return!1;o=me(),r.setFocus()},onRight:()=>r.states.has("focus")&&o.setFocus(),get children(){return[st(mr,{}),st(Rn,{get color(){return gt(vn.color.focus)},ref(e){"function"==typeof t?t(e):t=e}}),st(Wt,{get children(){return st(Ut,{get path(){return"/solid-demo-app/"},get children(){return[st(Ut,{path:"",component:ir}),st(Ut,{path:"examples",component:sr}),st(Ut,{path:"browse/:filter",component:ir}),st(Ut,{path:"text",component:lr}),st(Ut,{path:"buttons",component:cr}),st(Ut,{path:"flex",component:ar}),st(Ut,{path:"flexcolumn",component:hr}),st(Ut,{path:"buttonsmaterial",component:ur}),st(Ut,{path:"entity/people/:id",component:gr}),st(Ut,{path:"entity/:type/:id",component:dr}),st(Ut,{path:"*all",component:yr})]}})}}),st(Sr,{ref(e){"function"==typeof r?r(e):r=e}})]}})},Cr=new URL("AppCoreExtensions-legacy-7ee3c3e7.js",t.meta.url).href;je.debug=!1,je.fontSettings.fontFamily="Ubuntu",je.fontSettings.color=gt("#ffffff"),je.fontSettings.fontSize=100,rt((()=>st(Je,{options:{coreExtensionModule:Cr,threadXCoreWorkerUrl:void 0},get children(){return st($t,{get children(){return st(_r,{})}})}})))}}}));
//# sourceMappingURL=index-legacy-282f51eb.js.map
